# 1 "c:/devl/prboom3ds/src/p_setup.c"
# 1 "c:\\devl\\prboom3ds\\build//"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "c:/devl/prboom3ds/src/p_setup.c"
# 35 "c:/devl/prboom3ds/src/p_setup.c"
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 1 3




# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 1 3
# 13 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\_ansi.h" 1 3
# 15 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\_ansi.h" 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\newlib.h" 1 3
# 16 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\_ansi.h" 2 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\config.h" 1 3



# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\ieeefp.h" 1 3
# 5 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\config.h" 2 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\features.h" 1 3
# 6 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\config.h" 2 3
# 17 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\_ansi.h" 2 3
# 14 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 2 3
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 1 3 4
# 147 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 3 4
typedef int ptrdiff_t;
# 212 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 3 4
typedef unsigned int size_t;
# 324 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 3 4
typedef unsigned int wchar_t;
# 15 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 2 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\_types.h" 1 3
# 12 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\_types.h" 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_types.h" 1 3






# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_default_types.h" 1 3
# 27 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_default_types.h" 3
typedef signed char __int8_t;
typedef unsigned char __uint8_t;
# 37 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_default_types.h" 3
typedef short int __int16_t;
typedef short unsigned int __uint16_t;
# 55 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_default_types.h" 3
typedef long int __int32_t;
typedef long unsigned int __uint32_t;
# 77 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_default_types.h" 3
typedef long long int __int64_t;
typedef long long unsigned int __uint64_t;
# 104 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_default_types.h" 3
typedef signed char __int_least8_t;
typedef unsigned char __uint_least8_t;
# 126 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_default_types.h" 3
typedef short int __int_least16_t;
typedef short unsigned int __uint_least16_t;
# 144 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_default_types.h" 3
typedef long int __int_least32_t;
typedef long unsigned int __uint_least32_t;
# 158 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_default_types.h" 3
typedef long long int __int_least64_t;
typedef long long unsigned int __uint_least64_t;
# 168 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_default_types.h" 3
typedef int __intptr_t;
typedef unsigned int __uintptr_t;
# 8 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\_types.h" 2 3
# 13 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\_types.h" 2 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\lock.h" 1 3





typedef int _LOCK_T;
typedef int _LOCK_RECURSIVE_T;
# 14 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\_types.h" 2 3


typedef long _off_t;



typedef int __dev_t;



typedef unsigned short __uid_t;


typedef unsigned short __gid_t;



__extension__ typedef long long _off64_t;







typedef long _fpos_t;
# 55 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\_types.h" 3
typedef signed int _ssize_t;
# 67 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\_types.h" 3
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 1 3 4
# 353 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 3 4
typedef unsigned int wint_t;
# 68 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\_types.h" 2 3



typedef struct
{
  int __count;
  union
  {
    wint_t __wch;
    unsigned char __wchb[4];
  } __value;
} _mbstate_t;



typedef _LOCK_RECURSIVE_T _flock_t;




typedef void *_iconv_t;
# 16 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 2 3






typedef unsigned long __ULong;
# 38 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 3
struct _reent;






struct _Bigint
{
  struct _Bigint *_next;
  int _k, _maxwds, _sign, _wds;
  __ULong _x[1];
};


struct __tm
{
  int __tm_sec;
  int __tm_min;
  int __tm_hour;
  int __tm_mday;
  int __tm_mon;
  int __tm_year;
  int __tm_wday;
  int __tm_yday;
  int __tm_isdst;
};







struct _on_exit_args {
 void * _fnargs[32];
 void * _dso_handle[32];

 __ULong _fntypes;


 __ULong _is_cxa;
};
# 91 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 3
struct _atexit {
 struct _atexit *_next;
 int _ind;

 void (*_fns[32])(void);
        struct _on_exit_args _on_exit_args;
};
# 115 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 3
struct __sbuf {
 unsigned char *_base;
 int _size;
};
# 179 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 3
struct __sFILE {
  unsigned char *_p;
  int _r;
  int _w;
  short _flags;
  short _file;
  struct __sbuf _bf;
  int _lbfsize;






  void * _cookie;

  int (* _read) (struct _reent *, void *, char *, int)
                                          ;
  int (* _write) (struct _reent *, void *, const char *, int)

                                   ;
  _fpos_t (* _seek) (struct _reent *, void *, _fpos_t, int);
  int (* _close) (struct _reent *, void *);


  struct __sbuf _ub;
  unsigned char *_up;
  int _ur;


  unsigned char _ubuf[3];
  unsigned char _nbuf[1];


  struct __sbuf _lb;


  int _blksize;
  _off_t _offset;


  struct _reent *_data;



  _flock_t _lock;

  _mbstate_t _mbstate;
  int _flags2;
};
# 285 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 3
typedef struct __sFILE __FILE;



struct _glue
{
  struct _glue *_next;
  int _niobs;
  __FILE *_iobs;
};
# 317 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 3
struct _rand48 {
  unsigned short _seed[3];
  unsigned short _mult[3];
  unsigned short _add;




};
# 569 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 3
struct _reent
{
  int _errno;




  __FILE *_stdin, *_stdout, *_stderr;

  int _inc;
  char _emergency[25];

  int _current_category;
  const char *_current_locale;

  int __sdidinit;

  void (* __cleanup) (struct _reent *);


  struct _Bigint *_result;
  int _result_k;
  struct _Bigint *_p5s;
  struct _Bigint **_freelist;


  int _cvtlen;
  char *_cvtbuf;

  union
    {
      struct
        {
          unsigned int _unused_rand;
          char * _strtok_last;
          char _asctime_buf[26];
          struct __tm _localtime_buf;
          int _gamma_signgam;
          __extension__ unsigned long long _rand_next;
          struct _rand48 _r48;
          _mbstate_t _mblen_state;
          _mbstate_t _mbtowc_state;
          _mbstate_t _wctomb_state;
          char _l64a_buf[8];
          char _signal_buf[24];
          int _getdate_err;
          _mbstate_t _mbrlen_state;
          _mbstate_t _mbrtowc_state;
          _mbstate_t _mbsrtowcs_state;
          _mbstate_t _wcrtomb_state;
          _mbstate_t _wcsrtombs_state;
   int _h_errno;
        } _reent;



      struct
        {

          unsigned char * _nextf[30];
          unsigned int _nmalloc[30];
        } _unused;
    } _new;



  struct _atexit *_atexit;
  struct _atexit _atexit0;



  void (**(_sig_func))(int);




  struct _glue __sglue;
  __FILE __sf[3];
};
# 762 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\reent.h" 3
extern struct _reent *_impure_ptr ;
extern struct _reent *const _global_impure_ptr ;

void _reclaim_reent (struct _reent *);
# 6 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 2 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\ieeefp.h" 1 3
# 7 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 2 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\_ansi.h" 1 3
# 8 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 2 3






union __dmath
{
  double d;
  __ULong i[2];
};

union __fmath
{
  float f;
  __ULong i[1];
};


union __ldmath
{
  long double ld;
  __ULong i[4];
};
# 108 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 3
extern double atan (double);
extern double cos (double);
extern double sin (double);
extern double tan (double);
extern double tanh (double);
extern double frexp (double, int *);
extern double modf (double, double *);
extern double ceil (double);
extern double fabs (double);
extern double floor (double);






extern double acos (double);
extern double asin (double);
extern double atan2 (double, double);
extern double cosh (double);
extern double sinh (double);
extern double exp (double);
extern double ldexp (double, int);
extern double log (double);
extern double log10 (double);
extern double pow (double, double);
extern double sqrt (double);
extern double fmod (double, double);
# 154 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 3
    typedef float float_t;
    typedef double double_t;
# 198 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 3
extern int __isinff (float x);
extern int __isinfd (double x);
extern int __isnanf (float x);
extern int __isnand (double x);
extern int __fpclassifyf (float x);
extern int __fpclassifyd (double x);
extern int __signbitf (float x);
extern int __signbitd (double x);
# 258 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 3
extern double infinity (void);
extern double nan (const char *);
extern int finite (double);
extern double copysign (double, double);
extern double logb (double);
extern int ilogb (double);

extern double asinh (double);
extern double cbrt (double);
extern double nextafter (double, double);
extern double rint (double);
extern double scalbn (double, int);

extern double exp2 (double);
extern double scalbln (double, long int);
extern double tgamma (double);
extern double nearbyint (double);
extern long int lrint (double);
extern long long int llrint (double);
extern double round (double);
extern long int lround (double);
extern long long int llround (double);
extern double trunc (double);
extern double remquo (double, double, int *);
extern double fdim (double, double);
extern double fmax (double, double);
extern double fmin (double, double);
extern double fma (double, double, double);


extern double log1p (double);
extern double expm1 (double);



extern double acosh (double);
extern double atanh (double);
extern double remainder (double, double);
extern double gamma (double);
extern double lgamma (double);
extern double erf (double);
extern double erfc (double);
extern double log2 (double);





extern double hypot (double, double);






extern float atanf (float);
extern float cosf (float);
extern float sinf (float);
extern float tanf (float);
extern float tanhf (float);
extern float frexpf (float, int *);
extern float modff (float, float *);
extern float ceilf (float);
extern float fabsf (float);
extern float floorf (float);


extern float acosf (float);
extern float asinf (float);
extern float atan2f (float, float);
extern float coshf (float);
extern float sinhf (float);
extern float expf (float);
extern float ldexpf (float, int);
extern float logf (float);
extern float log10f (float);
extern float powf (float, float);
extern float sqrtf (float);
extern float fmodf (float, float);




extern float exp2f (float);
extern float scalblnf (float, long int);
extern float tgammaf (float);
extern float nearbyintf (float);
extern long int lrintf (float);
extern long long llrintf (float);
extern float roundf (float);
extern long int lroundf (float);
extern long long int llroundf (float);
extern float truncf (float);
extern float remquof (float, float, int *);
extern float fdimf (float, float);
extern float fmaxf (float, float);
extern float fminf (float, float);
extern float fmaf (float, float, float);

extern float infinityf (void);
extern float nanf (const char *);
extern int finitef (float);
extern float copysignf (float, float);
extern float logbf (float);
extern int ilogbf (float);

extern float asinhf (float);
extern float cbrtf (float);
extern float nextafterf (float, float);
extern float rintf (float);
extern float scalbnf (float, int);
extern float log1pf (float);
extern float expm1f (float);


extern float acoshf (float);
extern float atanhf (float);
extern float remainderf (float, float);
extern float gammaf (float);
extern float lgammaf (float);
extern float erff (float);
extern float erfcf (float);
extern float log2f (float);
extern float hypotf (float, float);






extern long double atanl (long double);
extern long double cosl (long double);
extern long double sinl (long double);
extern long double tanl (long double);
extern long double tanhl (long double);
extern long double frexpl (long double value, int *);
extern long double modfl (long double, long double *);
extern long double ceill (long double);
extern long double fabsl (long double);
extern long double floorl (long double);
extern long double log1pl (long double);
extern long double expm1l (long double);




extern long double acosl (long double);
extern long double asinl (long double);
extern long double atan2l (long double, long double);
extern long double coshl (long double);
extern long double sinhl (long double);
extern long double expl (long double);
extern long double ldexpl (long double, int);
extern long double logl (long double);
extern long double log10l (long double);
extern long double powl (long double, long double);
extern long double sqrtl (long double);
extern long double fmodl (long double, long double);
extern long double hypotl (long double, long double);


extern long double copysignl (long double, long double);
extern long double nanl (const char *);
extern int ilogbl (long double);
extern long double asinhl (long double);
extern long double cbrtl (long double);
extern long double nextafterl (long double, long double);
extern long double rintl (long double);
extern long double scalbnl (long double, int);
extern long double exp2l (long double);
extern long double scalblnl (long double, long);
extern long double tgammal (long double);
extern long double nearbyintl (long double);
extern long int lrintl (long double);
extern long long int llrintl (long double);
extern long double roundl (long double);
extern long lroundl (long double);
extern long long int llroundl (long double);
extern long double truncl (long double);
extern long double remquol (long double, long double, int *);
extern long double fdiml (long double, long double);
extern long double fmaxl (long double, long double);
extern long double fminl (long double, long double);
extern long double fmal (long double, long double, long double);

extern long double acoshl (long double);
extern long double atanhl (long double);
extern long double remainderl (long double, long double);
extern long double lgammal (long double);
extern long double erfl (long double);
extern long double erfcl (long double);
# 463 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 3
extern double drem (double, double);
extern void sincos (double, double *, double *);
extern double gamma_r (double, int *);
extern double lgamma_r (double, int *);

extern double y0 (double);
extern double y1 (double);
extern double yn (int, double);
extern double j0 (double);
extern double j1 (double);
extern double jn (int, double);

extern float dremf (float, float);
extern void sincosf (float, float *, float *);
extern float gammaf_r (float, int *);
extern float lgammaf_r (float, int *);

extern float y0f (float);
extern float y1f (float);
extern float ynf (int, float);
extern float j0f (float);
extern float j1f (float);
extern float jnf (int, float);



extern double exp10 (double);


extern double pow10 (double);


extern float exp10f (float);


extern float pow10f (float);
# 508 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 3
extern int *__signgam (void);
# 519 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 3
struct exception

{
  int type;
  char *name;
  double arg1;
  double arg2;
  double retval;
  int err;
};




extern int matherr (struct exception *e);
# 574 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 3
enum __fdlibm_version
{
  __fdlibm_ieee = -1,
  __fdlibm_svid,
  __fdlibm_xopen,
  __fdlibm_posix
};




extern enum __fdlibm_version __fdlib_version;
# 594 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 3



# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\fastmath.h" 1 3
# 598 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\math.h" 2 3
# 36 "c:/devl/prboom3ds/src/p_setup.c" 2

# 1 "c:/devl/prboom3ds/src/doomstat.h" 1
# 43 "c:/devl/prboom3ds/src/doomstat.h"
# 1 "c:/devl/prboom3ds/src/d_player.h" 1
# 43 "c:/devl/prboom3ds/src/d_player.h"
# 1 "c:/devl/prboom3ds/src/d_items.h" 1
# 38 "c:/devl/prboom3ds/src/d_items.h"
# 1 "c:/devl/prboom3ds/src/doomdef.h" 1
# 49 "c:/devl/prboom3ds/src/doomdef.h"
# 1 "c:/devl/prboom3ds/src/z_zone.h" 1
# 52 "c:/devl/prboom3ds/src/z_zone.h"
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 1 3
# 35 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 3
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 1 3 4
# 36 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 2 3


# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stdarg.h" 1 3 4
# 40 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stdarg.h" 3 4
typedef __builtin_va_list __gnuc_va_list;
# 39 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 2 3
# 47 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\types.h" 1 3
# 69 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\types.h" 3
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 1 3 4
# 70 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\types.h" 2 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\types.h" 1 3
# 19 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\types.h" 3
typedef long int __off_t;
typedef int __pid_t;

__extension__ typedef long long int __loff_t;
# 71 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\types.h" 2 3
# 93 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\types.h" 3
typedef unsigned char u_char;



typedef unsigned short u_short;



typedef unsigned int u_int;



typedef unsigned long u_long;





typedef unsigned short ushort;
typedef unsigned int uint;
typedef unsigned long ulong;



typedef unsigned long clock_t;




typedef long time_t;







struct timespec {
  time_t tv_sec;
  long tv_nsec;
};


struct itimerspec {
  struct timespec it_interval;
  struct timespec it_value;
};


typedef long daddr_t;



typedef char * caddr_t;
# 155 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\types.h" 3
typedef unsigned int ino_t;
# 184 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\types.h" 3
typedef _off_t off_t;
typedef __dev_t dev_t;
typedef __uid_t uid_t;
typedef __gid_t gid_t;





typedef int pid_t;







typedef long key_t;

typedef _ssize_t ssize_t;
# 217 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\types.h" 3
typedef unsigned int mode_t __attribute__ ((__mode__ (__SI__)));




typedef unsigned short nlink_t;
# 244 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\types.h" 3
typedef long fd_mask;







typedef struct _types_fd_set {
 fd_mask fds_bits[(((64)+(((sizeof (fd_mask) * 8))-1))/((sizeof (fd_mask) * 8)))];
} _types_fd_set;
# 275 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\types.h" 3
typedef unsigned long clockid_t;




typedef unsigned long timer_t;



typedef unsigned long useconds_t;
typedef long suseconds_t;

typedef __uint32_t fsblkcnt_t;
typedef __uint32_t fsfilcnt_t;
# 48 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 2 3



typedef __FILE FILE;




typedef _fpos_t fpos_t;





# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\stdio.h" 1 3
# 63 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 2 3
# 162 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 3
FILE * tmpfile (void);
char * tmpnam (char *);
int fclose (FILE *);
int fflush (FILE *);
FILE * freopen (const char *__restrict, const char *__restrict, FILE *__restrict);
void setbuf (FILE *__restrict, char *__restrict);
int setvbuf (FILE *__restrict, char *__restrict, int, size_t);
int fprintf (FILE *__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 2, 3)))
                                                            ;
int fscanf (FILE *__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__scanf__, 2, 3)))
                                                           ;
int printf (const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 1, 2)))
                                                            ;
int scanf (const char *__restrict, ...) __attribute__ ((__format__ (__scanf__, 1, 2)))
                                                           ;
int sscanf (const char *__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__scanf__, 2, 3)))
                                                           ;
int vfprintf (FILE *__restrict, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 2, 0)))
                                                            ;
int vprintf (const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 1, 0)))
                                                            ;
int vsprintf (char *__restrict, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 2, 0)))
                                                            ;
int fgetc (FILE *);
char * fgets (char *__restrict, int, FILE *__restrict);
int fputc (int, FILE *);
int fputs (const char *__restrict, FILE *__restrict);
int getc (FILE *);
int getchar (void);
char * gets (char *);
int putc (int, FILE *);
int putchar (int);
int puts (const char *);
int ungetc (int, FILE *);
size_t fread (void * __restrict, size_t _size, size_t _n, FILE *__restrict);
size_t fwrite (const void * __restrict , size_t _size, size_t _n, FILE *);



int fgetpos (FILE *__restrict, fpos_t *__restrict);

int fseek (FILE *, long, int);



int fsetpos (FILE *, const fpos_t *);

long ftell ( FILE *);
void rewind (FILE *);
void clearerr (FILE *);
int feof (FILE *);
int ferror (FILE *);
void perror (const char *);

FILE * fopen (const char *__restrict _name, const char *__restrict _type);
int sprintf (char *__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 2, 3)))
                                                            ;
int remove (const char *);
int rename (const char *, const char *);
# 230 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 3
int fseeko (FILE *, off_t, int);
off_t ftello ( FILE *);




int asiprintf (char **, const char *, ...) __attribute__ ((__format__ (__printf__, 2, 3)))
                                                            ;
char * asniprintf (char *, size_t *, const char *, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
char * asnprintf (char *__restrict, size_t *__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
int asprintf (char **__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 2, 3)))
                                                            ;

int diprintf (int, const char *, ...) __attribute__ ((__format__ (__printf__, 2, 3)))
                                                            ;

int fcloseall (void);
int fiprintf (FILE *, const char *, ...) __attribute__ ((__format__ (__printf__, 2, 3)))
                                                            ;
int fiscanf (FILE *, const char *, ...) __attribute__ ((__format__ (__scanf__, 2, 3)))
                                                           ;
int iprintf (const char *, ...) __attribute__ ((__format__ (__printf__, 1, 2)))
                                                            ;
int iscanf (const char *, ...) __attribute__ ((__format__ (__scanf__, 1, 2)))
                                                           ;
int siprintf (char *, const char *, ...) __attribute__ ((__format__ (__printf__, 2, 3)))
                                                            ;
int siscanf (const char *, const char *, ...) __attribute__ ((__format__ (__scanf__, 2, 3)))
                                                           ;
int snprintf (char *__restrict, size_t, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
int sniprintf (char *, size_t, const char *, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
char * tempnam (const char *, const char *);
int vasiprintf (char **, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 2, 0)))
                                                            ;
char * vasniprintf (char *, size_t *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
char * vasnprintf (char *, size_t *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
int vasprintf (char **, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 2, 0)))
                                                            ;
int vdiprintf (int, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 2, 0)))
                                                            ;
int vfiprintf (FILE *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 2, 0)))
                                                            ;
int vfiscanf (FILE *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 2, 0)))
                                                           ;
int vfscanf (FILE *__restrict, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 2, 0)))
                                                           ;
int viprintf (const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 1, 0)))
                                                            ;
int viscanf (const char *, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 1, 0)))
                                                           ;
int vscanf (const char *, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 1, 0)))
                                                           ;
int vsiprintf (char *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 2, 0)))
                                                            ;
int vsiscanf (const char *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 2, 0)))
                                                           ;
int vsniprintf (char *, size_t, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
int vsnprintf (char *__restrict, size_t, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
int vsscanf (const char *__restrict, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 2, 0)))
                                                           ;
# 307 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 3
FILE * fdopen (int, const char *);

int fileno (FILE *);
int getw (FILE *);
int pclose (FILE *);
FILE * popen (const char *, const char *);
int putw (int, FILE *);
void setbuffer (FILE *, char *, int);
int setlinebuf (FILE *);
int getc_unlocked (FILE *);
int getchar_unlocked (void);
void flockfile (FILE *);
int ftrylockfile (FILE *);
void funlockfile (FILE *);
int putc_unlocked (int, FILE *);
int putchar_unlocked (int);
# 332 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 3
int dprintf (int, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 2, 3)))
                                                            ;

FILE * fmemopen (void *__restrict, size_t, const char *__restrict);


FILE * open_memstream (char **, size_t *);



int vdprintf (int, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 2, 0)))
                                                            ;







int _asiprintf_r (struct _reent *, char **, const char *, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
char * _asniprintf_r (struct _reent *, char *, size_t *, const char *, ...) __attribute__ ((__format__ (__printf__, 4, 5)))
                                                            ;
char * _asnprintf_r (struct _reent *, char *__restrict, size_t *__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 4, 5)))
                                                            ;
int _asprintf_r (struct _reent *, char **__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
int _diprintf_r (struct _reent *, int, const char *, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
int _dprintf_r (struct _reent *, int, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
int _fclose_r (struct _reent *, FILE *);
int _fcloseall_r (struct _reent *);
FILE * _fdopen_r (struct _reent *, int, const char *);
int _fflush_r (struct _reent *, FILE *);
int _fgetc_r (struct _reent *, FILE *);
char * _fgets_r (struct _reent *, char *__restrict, int, FILE *__restrict);




int _fgetpos_r (struct _reent *, FILE *, fpos_t *);
int _fsetpos_r (struct _reent *, FILE *, const fpos_t *);

int _fiprintf_r (struct _reent *, FILE *, const char *, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
int _fiscanf_r (struct _reent *, FILE *, const char *, ...) __attribute__ ((__format__ (__scanf__, 3, 4)))
                                                           ;
FILE * _fmemopen_r (struct _reent *, void *__restrict, size_t, const char *__restrict);
FILE * _fopen_r (struct _reent *, const char *__restrict, const char *__restrict);
FILE * _freopen_r (struct _reent *, const char *__restrict, const char *__restrict, FILE *__restrict);
int _fprintf_r (struct _reent *, FILE *__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
int _fpurge_r (struct _reent *, FILE *);
int _fputc_r (struct _reent *, int, FILE *);
int _fputs_r (struct _reent *, const char *__restrict, FILE *__restrict);
size_t _fread_r (struct _reent *, void * __restrict, size_t _size, size_t _n, FILE *__restrict);
int _fscanf_r (struct _reent *, FILE *__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__scanf__, 3, 4)))
                                                           ;
int _fseek_r (struct _reent *, FILE *, long, int);
int _fseeko_r (struct _reent *, FILE *, _off_t, int);
long _ftell_r (struct _reent *, FILE *);
_off_t _ftello_r (struct _reent *, FILE *);
void _rewind_r (struct _reent *, FILE *);
size_t _fwrite_r (struct _reent *, const void * __restrict, size_t _size, size_t _n, FILE *__restrict);
int _getc_r (struct _reent *, FILE *);
int _getc_unlocked_r (struct _reent *, FILE *);
int _getchar_r (struct _reent *);
int _getchar_unlocked_r (struct _reent *);
char * _gets_r (struct _reent *, char *);
int _iprintf_r (struct _reent *, const char *, ...) __attribute__ ((__format__ (__printf__, 2, 3)))
                                                            ;
int _iscanf_r (struct _reent *, const char *, ...) __attribute__ ((__format__ (__scanf__, 2, 3)))
                                                           ;
FILE * _open_memstream_r (struct _reent *, char **, size_t *);
void _perror_r (struct _reent *, const char *);
int _printf_r (struct _reent *, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 2, 3)))
                                                            ;
int _putc_r (struct _reent *, int, FILE *);
int _putc_unlocked_r (struct _reent *, int, FILE *);
int _putchar_unlocked_r (struct _reent *, int);
int _putchar_r (struct _reent *, int);
int _puts_r (struct _reent *, const char *);
int _remove_r (struct _reent *, const char *);
int _rename_r (struct _reent *, const char *_old, const char *_new)
                                          ;
int _scanf_r (struct _reent *, const char *__restrict, ...) __attribute__ ((__format__ (__scanf__, 2, 3)))
                                                           ;
int _siprintf_r (struct _reent *, char *, const char *, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
int _siscanf_r (struct _reent *, const char *, const char *, ...) __attribute__ ((__format__ (__scanf__, 3, 4)))
                                                           ;
int _sniprintf_r (struct _reent *, char *, size_t, const char *, ...) __attribute__ ((__format__ (__printf__, 4, 5)))
                                                            ;
int _snprintf_r (struct _reent *, char *__restrict, size_t, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 4, 5)))
                                                            ;
int _sprintf_r (struct _reent *, char *__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__printf__, 3, 4)))
                                                            ;
int _sscanf_r (struct _reent *, const char *__restrict, const char *__restrict, ...) __attribute__ ((__format__ (__scanf__, 3, 4)))
                                                           ;
char * _tempnam_r (struct _reent *, const char *, const char *);
FILE * _tmpfile_r (struct _reent *);
char * _tmpnam_r (struct _reent *, char *);
int _ungetc_r (struct _reent *, int, FILE *);
int _vasiprintf_r (struct _reent *, char **, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
char * _vasniprintf_r (struct _reent*, char *, size_t *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 4, 0)))
                                                            ;
char * _vasnprintf_r (struct _reent*, char *, size_t *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 4, 0)))
                                                            ;
int _vasprintf_r (struct _reent *, char **, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
int _vdiprintf_r (struct _reent *, int, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
int _vdprintf_r (struct _reent *, int, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
int _vfiprintf_r (struct _reent *, FILE *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
int _vfiscanf_r (struct _reent *, FILE *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 3, 0)))
                                                           ;
int _vfprintf_r (struct _reent *, FILE *__restrict, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
int _vfscanf_r (struct _reent *, FILE *__restrict, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 3, 0)))
                                                           ;
int _viprintf_r (struct _reent *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 2, 0)))
                                                            ;
int _viscanf_r (struct _reent *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 2, 0)))
                                                           ;
int _vprintf_r (struct _reent *, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 2, 0)))
                                                            ;
int _vscanf_r (struct _reent *, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 2, 0)))
                                                           ;
int _vsiprintf_r (struct _reent *, char *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
int _vsiscanf_r (struct _reent *, const char *, const char *, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 3, 0)))
                                                           ;
int _vsniprintf_r (struct _reent *, char *, size_t, const char *, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 4, 0)))
                                                            ;
int _vsnprintf_r (struct _reent *, char *__restrict, size_t, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 4, 0)))
                                                            ;
int _vsprintf_r (struct _reent *, char *__restrict, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__printf__, 3, 0)))
                                                            ;
int _vsscanf_r (struct _reent *, const char *__restrict, const char *__restrict, __gnuc_va_list) __attribute__ ((__format__ (__scanf__, 3, 0)))
                                                           ;



int fpurge (FILE *);
ssize_t __getdelim (char **, size_t *, int, FILE *);
ssize_t __getline (char **, size_t *, FILE *);
# 509 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 3
int __srget_r (struct _reent *, FILE *);
int __swbuf_r (struct _reent *, int, FILE *);
# 533 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 3
FILE *funopen (const void * __cookie, int (*__readfn)(void * __cookie, char *__buf, int __n), int (*__writefn)(void * __cookie, const char *__buf, int __n), fpos_t (*__seekfn)(void * __cookie, fpos_t __off, int __whence), int (*__closefn)(void * __cookie))





                                   ;
FILE *_funopen_r (struct _reent *, const void * __cookie, int (*__readfn)(void * __cookie, char *__buf, int __n), int (*__writefn)(void * __cookie, const char *__buf, int __n), fpos_t (*__seekfn)(void * __cookie, fpos_t __off, int __whence), int (*__closefn)(void * __cookie))





                                   ;







typedef ssize_t cookie_read_function_t(void *__cookie, char *__buf, size_t __n);
typedef ssize_t cookie_write_function_t(void *__cookie, const char *__buf,
     size_t __n);




typedef int cookie_seek_function_t(void *__cookie, off_t *__off, int __whence);

typedef int cookie_close_function_t(void *__cookie);
typedef struct
{


  cookie_read_function_t *read;
  cookie_write_function_t *write;
  cookie_seek_function_t *seek;
  cookie_close_function_t *close;
} cookie_io_functions_t;
FILE *fopencookie (void *__cookie, const char *__mode, cookie_io_functions_t __functions)
                                                         ;
FILE *_fopencookie_r (struct _reent *, void *__cookie, const char *__mode, cookie_io_functions_t __functions)
                                                         ;
# 685 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdio.h" 3

# 53 "c:/devl/prboom3ds/src/z_zone.h" 2
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdlib.h" 1 3
# 10 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdlib.h" 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\ieeefp.h" 1 3
# 11 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdlib.h" 2 3





# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 1 3 4
# 17 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdlib.h" 2 3


# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\machine\\stdlib.h" 1 3
# 20 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdlib.h" 2 3

# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\alloca.h" 1 3
# 22 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdlib.h" 2 3








typedef struct
{
  int quot;
  int rem;
} div_t;

typedef struct
{
  long quot;
  long rem;
} ldiv_t;




typedef struct
{
  long long int quot;
  long long int rem;
} lldiv_t;




typedef int (*__compar_fn_t) (const void *, const void *);







int __locale_mb_cur_max (void);



void abort (void) __attribute__ ((noreturn));
int abs (int);
int atexit (void (*__func)(void));
double atof (const char *__nptr);

float atoff (const char *__nptr);

int atoi (const char *__nptr);
int _atoi_r (struct _reent *, const char *__nptr);
long atol (const char *__nptr);
long _atol_r (struct _reent *, const char *__nptr);
void * bsearch (const void * __key, const void * __base, size_t __nmemb, size_t __size, __compar_fn_t _compar)



                                ;
void * calloc (size_t __nmemb, size_t __size) ;
div_t div (int __numer, int __denom);
void exit (int __status) __attribute__ ((noreturn));
void free (void *) ;
char * getenv (const char *__string);
char * _getenv_r (struct _reent *, const char *__string);
char * _findenv (const char *, int *);
char * _findenv_r (struct _reent *, const char *, int *);

extern char *suboptarg;
int getsubopt (char **, char * const *, char **);

long labs (long);
ldiv_t ldiv (long __numer, long __denom);
void * malloc (size_t __size) ;
int mblen (const char *, size_t);
int _mblen_r (struct _reent *, const char *, size_t, _mbstate_t *);
int mbtowc (wchar_t *__restrict, const char *__restrict, size_t);
int _mbtowc_r (struct _reent *, wchar_t *__restrict, const char *__restrict, size_t, _mbstate_t *);
int wctomb (char *, wchar_t);
int _wctomb_r (struct _reent *, char *, wchar_t, _mbstate_t *);
size_t mbstowcs (wchar_t *__restrict, const char *__restrict, size_t);
size_t _mbstowcs_r (struct _reent *, wchar_t *__restrict, const char *__restrict, size_t, _mbstate_t *);
size_t wcstombs (char *__restrict, const wchar_t *__restrict, size_t);
size_t _wcstombs_r (struct _reent *, char *__restrict, const wchar_t *__restrict, size_t, _mbstate_t *);


char * mkdtemp (char *);
int mkostemp (char *, int);
int mkostemps (char *, int, int);
int mkstemp (char *);
int mkstemps (char *, int);
char * mktemp (char *) __attribute__ ((__warning__ ("the use of `mktemp' is dangerous; use `mkstemp' instead")));

char * _mkdtemp_r (struct _reent *, char *);
int _mkostemp_r (struct _reent *, char *, int);
int _mkostemps_r (struct _reent *, char *, int, int);
int _mkstemp_r (struct _reent *, char *);
int _mkstemps_r (struct _reent *, char *, int);
char * _mktemp_r (struct _reent *, char *) __attribute__ ((__warning__ ("the use of `mktemp' is dangerous; use `mkstemp' instead")));

void qsort (void * __base, size_t __nmemb, size_t __size, __compar_fn_t _compar);
int rand (void);
void * realloc (void * __r, size_t __size) ;

void * reallocf (void * __r, size_t __size);
char * realpath (const char *__restrict path, char *__restrict resolved_path);

void srand (unsigned __seed);
double strtod (const char *__restrict __n, char **__restrict __end_PTR);
double _strtod_r (struct _reent *,const char *__restrict __n, char **__restrict __end_PTR);

float strtof (const char *__restrict __n, char **__restrict __end_PTR);







long strtol (const char *__restrict __n, char **__restrict __end_PTR, int __base);
long _strtol_r (struct _reent *,const char *__restrict __n, char **__restrict __end_PTR, int __base);
unsigned long strtoul (const char *__restrict __n, char **__restrict __end_PTR, int __base);
unsigned long _strtoul_r (struct _reent *,const char *__restrict __n, char **__restrict __end_PTR, int __base);

int system (const char *__string);


long a64l (const char *__input);
char * l64a (long __input);
char * _l64a_r (struct _reent *,long __input);
int on_exit (void (*__func)(int, void *),void * __arg);
void _Exit (int __status) __attribute__ ((noreturn));
int putenv (char *__string);
int _putenv_r (struct _reent *, char *__string);
void * _reallocf_r (struct _reent *, void *, size_t);
int setenv (const char *__string, const char *__value, int __overwrite);
int _setenv_r (struct _reent *, const char *__string, const char *__value, int __overwrite);

char * gcvt (double,int,char *);
char * gcvtf (float,int,char *);
char * fcvt (double,int,int *,int *);
char * fcvtf (float,int,int *,int *);
char * ecvt (double,int,int *,int *);
char * ecvtbuf (double, int, int*, int*, char *);
char * fcvtbuf (double, int, int*, int*, char *);
char * ecvtf (float,int,int *,int *);
char * dtoa (double, int, int, int *, int*, char**);
int rand_r (unsigned *__seed);

double drand48 (void);
double _drand48_r (struct _reent *);
double erand48 (unsigned short [3]);
double _erand48_r (struct _reent *, unsigned short [3]);
long jrand48 (unsigned short [3]);
long _jrand48_r (struct _reent *, unsigned short [3]);
void lcong48 (unsigned short [7]);
void _lcong48_r (struct _reent *, unsigned short [7]);
long lrand48 (void);
long _lrand48_r (struct _reent *);
long mrand48 (void);
long _mrand48_r (struct _reent *);
long nrand48 (unsigned short [3]);
long _nrand48_r (struct _reent *, unsigned short [3]);
unsigned short *
       seed48 (unsigned short [3]);
unsigned short *
       _seed48_r (struct _reent *, unsigned short [3]);
void srand48 (long);
void _srand48_r (struct _reent *, long);
long long atoll (const char *__nptr);
long long _atoll_r (struct _reent *, const char *__nptr);
long long llabs (long long);
lldiv_t lldiv (long long __numer, long long __denom);


long long strtoll (const char *__restrict __n, char **__restrict __end_PTR, int __base);


long long _strtoll_r (struct _reent *, const char *__restrict __n, char **__restrict __end_PTR, int __base);


unsigned long long strtoull (const char *__restrict __n, char **__restrict __end_PTR, int __base);


unsigned long long _strtoull_r (struct _reent *, const char *__restrict __n, char **__restrict __end_PTR, int __base);


void cfree (void *);
int unsetenv (const char *__string);
int _unsetenv_r (struct _reent *, const char *__string);
# 221 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdlib.h" 3
char * _dtoa_r (struct _reent *, double, int, int, int *, int*, char**);

void * _malloc_r (struct _reent *, size_t) ;
void * _calloc_r (struct _reent *, size_t, size_t) ;
void _free_r (struct _reent *, void *) ;
void * _realloc_r (struct _reent *, void *, size_t) ;
void _mstats_r (struct _reent *, char *);

int _system_r (struct _reent *, const char *);

void __eprintf (const char *, const char *, unsigned int, const char *);




extern long double strtold (const char *__restrict, char **__restrict);




# 54 "c:/devl/prboom3ds/src/z_zone.h" 2
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\string.h" 1 3
# 12 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\string.h" 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\cdefs.h" 1 3
# 45 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\cdefs.h" 3
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 1 3 4
# 46 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\cdefs.h" 2 3
# 13 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\string.h" 2 3




# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 1 3 4
# 18 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\string.h" 2 3



void * memchr (const void *, int, size_t);
int memcmp (const void *, const void *, size_t);
void * memcpy (void * , const void * , size_t);
void * memmove (void *, const void *, size_t);
void * memset (void *, int, size_t);
char *strcat (char *, const char *);
char *strchr (const char *, int);
int strcmp (const char *, const char *);
int strcoll (const char *, const char *);
char *strcpy (char *, const char *);
size_t strcspn (const char *, const char *);
char *strerror (int);
size_t strlen (const char *);
char *strncat (char *, const char *, size_t);
int strncmp (const char *, const char *, size_t);
char *strncpy (char *, const char *, size_t);
char *strpbrk (const char *, const char *);
char *strrchr (const char *, int);
size_t strspn (const char *, const char *);
char *strstr (const char *, const char *);


char *strtok (char *, const char *);


size_t strxfrm (char *, const char *, size_t);


char *strtok_r (char *, const char *, char **);

int bcmp (const void *, const void *, size_t);
void bcopy (const void *, void *, size_t);
void bzero (void *, size_t);
int ffs (int);
char *index (const char *, int);
void * memccpy (void * , const void * , int, size_t);
void * mempcpy (void *, const void *, size_t);
void * memmem (const void *, size_t, const void *, size_t);
void * memrchr (const void *, int, size_t);
void * rawmemchr (const void *, int);
char *rindex (const char *, int);
char *stpcpy (char *, const char *);
char *stpncpy (char *, const char *, size_t);
int strcasecmp (const char *, const char *);
char *strcasestr (const char *, const char *);
char *strchrnul (const char *, int);


char *strdup (const char *);


char *_strdup_r (struct _reent *, const char *);


char *strndup (const char *, size_t);


char *_strndup_r (struct _reent *, const char *, size_t);
# 87 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\string.h" 3
int strerror_r (int, char *, size_t) __asm__ ("" "__xpg_strerror_r");





size_t strlcat (char *, const char *, size_t);
size_t strlcpy (char *, const char *, size_t);
int strncasecmp (const char *, const char *, size_t);
size_t strnlen (const char *, size_t);
char *strsep (char **, const char *);
char *strlwr (char *);
char *strupr (char *);

char *strsignal (int __signo);






char * _strerror_r (struct _reent *, int, int, int *);
# 140 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\string.h" 3
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\sys\\string.h" 1 3
# 141 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\string.h" 2 3


# 55 "c:/devl/prboom3ds/src/z_zone.h" 2
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\assert.h" 1 3
# 39 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\assert.h" 3
void __assert (const char *, int, const char *) __attribute__ ((__noreturn__))
                                 ;
void __assert_func (const char *, int, const char *, const char *) __attribute__ ((__noreturn__))
                                 ;
# 56 "c:/devl/prboom3ds/src/z_zone.h" 2




enum {PU_FREE, PU_STATIC, PU_SOUND, PU_MUSIC, PU_LEVEL, PU_LEVSPEC, PU_CACHE, PU_NEWBLOCK,
                                            PU_MAX};
# 73 "c:/devl/prboom3ds/src/z_zone.h"
void *(Z_Malloc)(size_t size, int tag, void **ptr );
void (Z_Free)(void *ptr );
void (Z_FreeTags)(int lowtag, int hightag );
void (Z_ChangeTag)(void *ptr, int tag );
void (Z_Init)(void);
void Z_Close(void);
void *(Z_Calloc)(size_t n, size_t n2, int tag, void **user );
void *(Z_Realloc)(void *p, size_t n, int tag, void **user );
char *(Z_Strdup)(const char *s, int tag, void **user );
void (Z_CheckHeap)();
void Z_DumpHistory(char *);
# 127 "c:/devl/prboom3ds/src/z_zone.h"
void Z_ZoneHistory(char *);
# 50 "c:/devl/prboom3ds/src/doomdef.h" 2




# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\ctype.h" 1 3







int isalnum (int __c);
int isalpha (int __c);
int iscntrl (int __c);
int isdigit (int __c);
int isgraph (int __c);
int islower (int __c);
int isprint (int __c);
int ispunct (int __c);
int isspace (int __c);
int isupper (int __c);
int isxdigit (int __c);
int tolower (int __c);
int toupper (int __c);


int isblank (int __c);



int isascii (int __c);
int toascii (int __c);
# 45 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\ctype.h" 3
extern char *__ctype_ptr__;
# 109 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\ctype.h" 3
extern const char _ctype_[];


# 55 "c:/devl/prboom3ds/src/doomdef.h" 2
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include-fixed\\limits.h" 1 3 4
# 34 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include-fixed\\limits.h" 3 4
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include-fixed\\syslimits.h" 1 3 4






# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include-fixed\\limits.h" 1 3 4
# 168 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include-fixed\\limits.h" 3 4
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\limits.h" 1 3 4
# 169 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include-fixed\\limits.h" 2 3 4
# 8 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include-fixed\\syslimits.h" 2 3 4
# 35 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include-fixed\\limits.h" 2 3 4
# 56 "c:/devl/prboom3ds/src/doomdef.h" 2






# 1 "c:/devl/prboom3ds/src/m_swap.h" 1
# 63 "c:/devl/prboom3ds/src/doomdef.h" 2
# 1 "c:/devl/prboom3ds/src/version.h" 1
# 38 "c:/devl/prboom3ds/src/version.h"
extern const char version_date[];
# 64 "c:/devl/prboom3ds/src/doomdef.h" 2



typedef enum {
  shareware,
  registered,
  commercial,
  retail,
  indetermined
} GameMode_t;


typedef enum {
  doom,
  doom2,
  pack_tnt,
  pack_plut,
  none
} GameMission_t;


typedef enum {
  english,
  french,
  german,
  unknown
} Language_t;
# 124 "c:/devl/prboom3ds/src/doomdef.h"
extern int SCREENWIDTH;
extern int SCREENHEIGHT;




extern int SCREENPITCH;
# 149 "c:/devl/prboom3ds/src/doomdef.h"
typedef enum {
  GS_LEVEL,
  GS_INTERMISSION,
  GS_FINALE,
  GS_DEMOSCREEN
} gamestate_t;
# 175 "c:/devl/prboom3ds/src/doomdef.h"
typedef enum {
  sk_none=-1,
  sk_baby=0,
  sk_easy,
  sk_medium,
  sk_hard,
  sk_nightmare
} skill_t;





typedef enum {
  it_bluecard,
  it_yellowcard,
  it_redcard,
  it_blueskull,
  it_yellowskull,
  it_redskull,
  NUMCARDS
} card_t;



typedef enum {
  wp_fist,
  wp_pistol,
  wp_shotgun,
  wp_chaingun,
  wp_missile,
  wp_plasma,
  wp_bfg,
  wp_chainsaw,
  wp_supershotgun,

  NUMWEAPONS,
  wp_nochange
} weapontype_t;


typedef enum {
  am_clip,
  am_shell,
  am_cell,
  am_misl,
  NUMAMMO,
  am_noammo
} ammotype_t;


typedef enum {
  pw_invulnerability,
  pw_strength,
  pw_invisibility,
  pw_ironfeet,
  pw_allmap,
  pw_infrared,
  NUMPOWERS
} powertype_t;


typedef enum {
  INVULNTICS = (30*35),
  INVISTICS = (60*35),
  INFRATICS = (120*35),
  IRONTICS = (60*35)
} powerduration_t;
# 316 "c:/devl/prboom3ds/src/doomdef.h"
typedef enum {
  ss_none,
  ss_keys,
  ss_weap,
  ss_stat,
  ss_auto,
  ss_enem,
  ss_mess,
  ss_chat,
  ss_gen,
  ss_comp,
  ss_max
} ss_types;
# 39 "c:/devl/prboom3ds/src/d_items.h" 2







typedef struct
{
  ammotype_t ammo;
  int upstate;
  int downstate;
  int readystate;
  int atkstate;
  int flashstate;

} weaponinfo_t;

extern weaponinfo_t weaponinfo[NUMWEAPONS];
# 44 "c:/devl/prboom3ds/src/d_player.h" 2
# 1 "c:/devl/prboom3ds/src/p_pspr.h" 1
# 40 "c:/devl/prboom3ds/src/p_pspr.h"
# 1 "c:/devl/prboom3ds/src/m_fixed.h" 1
# 37 "c:/devl/prboom3ds/src/m_fixed.h"
# 1 "c:/devl/prboom3ds/arm9/include/config.h" 1
# 38 "c:/devl/prboom3ds/src/m_fixed.h" 2
# 1 "c:/devl/prboom3ds/src/doomtype.h" 1
# 64 "c:/devl/prboom3ds/src/doomtype.h"
# 1 "c:/devkitPro/libctru/include/3ds/types.h" 1




       

# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stdint.h" 1 3 4
# 9 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stdint.h" 3 4
# 1 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdint.h" 1 3 4
# 41 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdint.h" 3 4
typedef __int8_t int8_t ;
typedef __uint8_t uint8_t ;




typedef __int_least8_t int_least8_t;
typedef __uint_least8_t uint_least8_t;




typedef __int16_t int16_t ;
typedef __uint16_t uint16_t ;




typedef __int_least16_t int_least16_t;
typedef __uint_least16_t uint_least16_t;




typedef __int32_t int32_t ;
typedef __uint32_t uint32_t ;




typedef __int_least32_t int_least32_t;
typedef __uint_least32_t uint_least32_t;




typedef __int64_t int64_t ;
typedef __uint64_t uint64_t ;




typedef __int_least64_t int_least64_t;
typedef __uint_least64_t uint_least64_t;
# 95 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdint.h" 3 4
  typedef int int_fast8_t;
  typedef unsigned int uint_fast8_t;
# 105 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdint.h" 3 4
  typedef int int_fast16_t;
  typedef unsigned int uint_fast16_t;
# 115 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdint.h" 3 4
  typedef int int_fast32_t;
  typedef unsigned int uint_fast32_t;
# 125 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdint.h" 3 4
  typedef long long int int_fast64_t;
  typedef long long unsigned int uint_fast64_t;
# 174 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdint.h" 3 4
  typedef long long int intmax_t;
# 183 "c:\\devkitpro\\devkitarm\\arm-none-eabi\\include\\stdint.h" 3 4
  typedef long long unsigned int uintmax_t;






typedef __intptr_t intptr_t;
typedef __uintptr_t uintptr_t;
# 10 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stdint.h" 2 3 4
# 8 "c:/devkitPro/libctru/include/3ds/types.h" 2
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stdbool.h" 1 3 4
# 9 "c:/devkitPro/libctru/include/3ds/types.h" 2
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stddef.h" 1 3 4
# 10 "c:/devkitPro/libctru/include/3ds/types.h" 2



typedef enum
{
 mediatype_NAND,
 mediatype_SDMC,
 mediatype_GAMECARD,
} mediatypes_enum;

typedef uint8_t u8;
typedef uint16_t u16;
typedef uint32_t u32;
typedef uint64_t u64;

typedef int8_t s8;
typedef int16_t s16;
typedef int32_t s32;
typedef int64_t s64;

typedef volatile u8 vu8;
typedef volatile u16 vu16;
typedef volatile u32 vu32;
typedef volatile u64 vu64;

typedef volatile s8 vs8;
typedef volatile s16 vs16;
typedef volatile s32 vs32;
typedef volatile s64 vs64;

typedef u32 Handle;
typedef s32 Result;
typedef void (*ThreadFunc)(u32);
# 65 "c:/devl/prboom3ds/src/doomtype.h" 2
typedef _Bool qboolean;
typedef int boolean;
# 76 "c:/devl/prboom3ds/src/doomtype.h"
typedef unsigned char byte;
# 91 "c:/devl/prboom3ds/src/doomtype.h"
typedef signed long long int_64_t;
typedef unsigned long long uint_64_t;
# 116 "c:/devl/prboom3ds/src/doomtype.h"
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include-fixed\\limits.h" 1 3 4
# 117 "c:/devl/prboom3ds/src/doomtype.h" 2


typedef enum {
  doom_12_compatibility,
  doom_1666_compatibility,
  doom2_19_compatibility,
  ultdoom_compatibility,
  finaldoom_compatibility,
  dosdoom_compatibility,
  tasdoom_compatibility,
  boom_compatibility_compatibility,
  boom_201_compatibility,
  boom_202_compatibility,
  lxdoom_1_compatibility,
  mbf_compatibility,
  prboom_1_compatibility,
  prboom_2_compatibility,
  prboom_3_compatibility,
  prboom_4_compatibility,
  prboom_5_compatibility,
  prboom_6_compatibility,
  MAX_COMPATIBILITY_LEVEL,

  boom_compatibility = boom_201_compatibility,
  best_compatibility = prboom_6_compatibility,
} complevel_t;


enum patch_translation_e {
  VPT_NONE = 0,
  VPT_FLIP = 1,
  VPT_TRANS = 2,
  VPT_STRETCH = 4,
};
# 39 "c:/devl/prboom3ds/src/m_fixed.h" 2
# 47 "c:/devl/prboom3ds/src/m_fixed.h"
typedef int fixed_t;
# 56 "c:/devl/prboom3ds/src/m_fixed.h"
inline static __attribute__((const)) fixed_t D_abs(fixed_t x)
{
  fixed_t _t = (x),_s;
  _s = _t >> (8*sizeof _t-1);
  return (_t^_s)-_s;
}
# 70 "c:/devl/prboom3ds/src/m_fixed.h"
inline static __attribute__((const)) fixed_t FixedMul(fixed_t a, fixed_t b)
{
  return (fixed_t)((int_64_t) a*b >> 16);
}
# 82 "c:/devl/prboom3ds/src/m_fixed.h"
inline static __attribute__((const)) fixed_t FixedDiv(fixed_t a, fixed_t b)
{
  return (D_abs(a)>>14) >= D_abs(b) ? ((a^b)>>31) ^ 2147483647 :
    (fixed_t)(((int_64_t) a << 16) / b);
}






inline static __attribute__((const)) fixed_t FixedMod(fixed_t a, fixed_t b)
{
  if (b & (b-1)) {
    fixed_t r = a % b;
    return ((r<0) ? r+b : r);
  } else
    return (a & (b-1));
}
# 41 "c:/devl/prboom3ds/src/p_pspr.h" 2
# 1 "c:/devl/prboom3ds/src/tables.h" 1
# 71 "c:/devl/prboom3ds/src/tables.h"
typedef unsigned angle_t;


void R_LoadTrigTables(void);


extern fixed_t finesine[5*8192/4];


static fixed_t *const finecosine = finesine + (8192/4);


extern fixed_t finetangent[8192/2];




extern angle_t tantoangle[2048 +1];


int SlopeDiv(unsigned num, unsigned den);
# 42 "c:/devl/prboom3ds/src/p_pspr.h" 2
# 50 "c:/devl/prboom3ds/src/p_pspr.h"
# 1 "c:/devl/prboom3ds/src/info.h" 1
# 40 "c:/devl/prboom3ds/src/info.h"
# 1 "c:/devl/prboom3ds/src/d_think.h" 1
# 50 "c:/devl/prboom3ds/src/d_think.h"
typedef void (*actionf_t)();
# 72 "c:/devl/prboom3ds/src/d_think.h"
typedef actionf_t think_t;



typedef struct thinker_s
{
  struct thinker_s* prev;
  struct thinker_s* next;
  think_t function;





  struct thinker_s *cnext, *cprev;




  unsigned references;
} thinker_t;
# 41 "c:/devl/prboom3ds/src/info.h" 2




typedef enum
{
  SPR_TROO,
  SPR_SHTG,
  SPR_PUNG,
  SPR_PISG,
  SPR_PISF,
  SPR_SHTF,
  SPR_SHT2,
  SPR_CHGG,
  SPR_CHGF,
  SPR_MISG,
  SPR_MISF,
  SPR_SAWG,
  SPR_PLSG,
  SPR_PLSF,
  SPR_BFGG,
  SPR_BFGF,
  SPR_BLUD,
  SPR_PUFF,
  SPR_BAL1,
  SPR_BAL2,
  SPR_PLSS,
  SPR_PLSE,
  SPR_MISL,
  SPR_BFS1,
  SPR_BFE1,
  SPR_BFE2,
  SPR_TFOG,
  SPR_IFOG,
  SPR_PLAY,
  SPR_POSS,
  SPR_SPOS,
  SPR_VILE,
  SPR_FIRE,
  SPR_FATB,
  SPR_FBXP,
  SPR_SKEL,
  SPR_MANF,
  SPR_FATT,
  SPR_CPOS,
  SPR_SARG,
  SPR_HEAD,
  SPR_BAL7,
  SPR_BOSS,
  SPR_BOS2,
  SPR_SKUL,
  SPR_SPID,
  SPR_BSPI,
  SPR_APLS,
  SPR_APBX,
  SPR_CYBR,
  SPR_PAIN,
  SPR_SSWV,
  SPR_KEEN,
  SPR_BBRN,
  SPR_BOSF,
  SPR_ARM1,
  SPR_ARM2,
  SPR_BAR1,
  SPR_BEXP,
  SPR_FCAN,
  SPR_BON1,
  SPR_BON2,
  SPR_BKEY,
  SPR_RKEY,
  SPR_YKEY,
  SPR_BSKU,
  SPR_RSKU,
  SPR_YSKU,
  SPR_STIM,
  SPR_MEDI,
  SPR_SOUL,
  SPR_PINV,
  SPR_PSTR,
  SPR_PINS,
  SPR_MEGA,
  SPR_SUIT,
  SPR_PMAP,
  SPR_PVIS,
  SPR_CLIP,
  SPR_AMMO,
  SPR_ROCK,
  SPR_BROK,
  SPR_CELL,
  SPR_CELP,
  SPR_SHEL,
  SPR_SBOX,
  SPR_BPAK,
  SPR_BFUG,
  SPR_MGUN,
  SPR_CSAW,
  SPR_LAUN,
  SPR_PLAS,
  SPR_SHOT,
  SPR_SGN2,
  SPR_COLU,
  SPR_SMT2,
  SPR_GOR1,
  SPR_POL2,
  SPR_POL5,
  SPR_POL4,
  SPR_POL3,
  SPR_POL1,
  SPR_POL6,
  SPR_GOR2,
  SPR_GOR3,
  SPR_GOR4,
  SPR_GOR5,
  SPR_SMIT,
  SPR_COL1,
  SPR_COL2,
  SPR_COL3,
  SPR_COL4,
  SPR_CAND,
  SPR_CBRA,
  SPR_COL6,
  SPR_TRE1,
  SPR_TRE2,
  SPR_ELEC,
  SPR_CEYE,
  SPR_FSKU,
  SPR_COL5,
  SPR_TBLU,
  SPR_TGRN,
  SPR_TRED,
  SPR_SMBT,
  SPR_SMGT,
  SPR_SMRT,
  SPR_HDB1,
  SPR_HDB2,
  SPR_HDB3,
  SPR_HDB4,
  SPR_HDB5,
  SPR_HDB6,
  SPR_POB1,
  SPR_POB2,
  SPR_BRS1,
  SPR_TLMP,
  SPR_TLP2,
  SPR_TNT1,


  SPR_DOGS,


  NUMSPRITES

} spritenum_t;





typedef enum
{
  S_NULL,
  S_LIGHTDONE,
  S_PUNCH,
  S_PUNCHDOWN,
  S_PUNCHUP,
  S_PUNCH1,
  S_PUNCH2,
  S_PUNCH3,
  S_PUNCH4,
  S_PUNCH5,
  S_PISTOL,
  S_PISTOLDOWN,
  S_PISTOLUP,
  S_PISTOL1,
  S_PISTOL2,
  S_PISTOL3,
  S_PISTOL4,
  S_PISTOLFLASH,
  S_SGUN,
  S_SGUNDOWN,
  S_SGUNUP,
  S_SGUN1,
  S_SGUN2,
  S_SGUN3,
  S_SGUN4,
  S_SGUN5,
  S_SGUN6,
  S_SGUN7,
  S_SGUN8,
  S_SGUN9,
  S_SGUNFLASH1,
  S_SGUNFLASH2,
  S_DSGUN,
  S_DSGUNDOWN,
  S_DSGUNUP,
  S_DSGUN1,
  S_DSGUN2,
  S_DSGUN3,
  S_DSGUN4,
  S_DSGUN5,
  S_DSGUN6,
  S_DSGUN7,
  S_DSGUN8,
  S_DSGUN9,
  S_DSGUN10,
  S_DSNR1,
  S_DSNR2,
  S_DSGUNFLASH1,
  S_DSGUNFLASH2,
  S_CHAIN,
  S_CHAINDOWN,
  S_CHAINUP,
  S_CHAIN1,
  S_CHAIN2,
  S_CHAIN3,
  S_CHAINFLASH1,
  S_CHAINFLASH2,
  S_MISSILE,
  S_MISSILEDOWN,
  S_MISSILEUP,
  S_MISSILE1,
  S_MISSILE2,
  S_MISSILE3,
  S_MISSILEFLASH1,
  S_MISSILEFLASH2,
  S_MISSILEFLASH3,
  S_MISSILEFLASH4,
  S_SAW,
  S_SAWB,
  S_SAWDOWN,
  S_SAWUP,
  S_SAW1,
  S_SAW2,
  S_SAW3,
  S_PLASMA,
  S_PLASMADOWN,
  S_PLASMAUP,
  S_PLASMA1,
  S_PLASMA2,
  S_PLASMAFLASH1,
  S_PLASMAFLASH2,
  S_BFG,
  S_BFGDOWN,
  S_BFGUP,
  S_BFG1,
  S_BFG2,
  S_BFG3,
  S_BFG4,
  S_BFGFLASH1,
  S_BFGFLASH2,
  S_BLOOD1,
  S_BLOOD2,
  S_BLOOD3,
  S_PUFF1,
  S_PUFF2,
  S_PUFF3,
  S_PUFF4,
  S_TBALL1,
  S_TBALL2,
  S_TBALLX1,
  S_TBALLX2,
  S_TBALLX3,
  S_RBALL1,
  S_RBALL2,
  S_RBALLX1,
  S_RBALLX2,
  S_RBALLX3,
  S_PLASBALL,
  S_PLASBALL2,
  S_PLASEXP,
  S_PLASEXP2,
  S_PLASEXP3,
  S_PLASEXP4,
  S_PLASEXP5,
  S_ROCKET,
  S_BFGSHOT,
  S_BFGSHOT2,
  S_BFGLAND,
  S_BFGLAND2,
  S_BFGLAND3,
  S_BFGLAND4,
  S_BFGLAND5,
  S_BFGLAND6,
  S_BFGEXP,
  S_BFGEXP2,
  S_BFGEXP3,
  S_BFGEXP4,
  S_EXPLODE1,
  S_EXPLODE2,
  S_EXPLODE3,
  S_TFOG,
  S_TFOG01,
  S_TFOG02,
  S_TFOG2,
  S_TFOG3,
  S_TFOG4,
  S_TFOG5,
  S_TFOG6,
  S_TFOG7,
  S_TFOG8,
  S_TFOG9,
  S_TFOG10,
  S_IFOG,
  S_IFOG01,
  S_IFOG02,
  S_IFOG2,
  S_IFOG3,
  S_IFOG4,
  S_IFOG5,
  S_PLAY,
  S_PLAY_RUN1,
  S_PLAY_RUN2,
  S_PLAY_RUN3,
  S_PLAY_RUN4,
  S_PLAY_ATK1,
  S_PLAY_ATK2,
  S_PLAY_PAIN,
  S_PLAY_PAIN2,
  S_PLAY_DIE1,
  S_PLAY_DIE2,
  S_PLAY_DIE3,
  S_PLAY_DIE4,
  S_PLAY_DIE5,
  S_PLAY_DIE6,
  S_PLAY_DIE7,
  S_PLAY_XDIE1,
  S_PLAY_XDIE2,
  S_PLAY_XDIE3,
  S_PLAY_XDIE4,
  S_PLAY_XDIE5,
  S_PLAY_XDIE6,
  S_PLAY_XDIE7,
  S_PLAY_XDIE8,
  S_PLAY_XDIE9,
  S_POSS_STND,
  S_POSS_STND2,
  S_POSS_RUN1,
  S_POSS_RUN2,
  S_POSS_RUN3,
  S_POSS_RUN4,
  S_POSS_RUN5,
  S_POSS_RUN6,
  S_POSS_RUN7,
  S_POSS_RUN8,
  S_POSS_ATK1,
  S_POSS_ATK2,
  S_POSS_ATK3,
  S_POSS_PAIN,
  S_POSS_PAIN2,
  S_POSS_DIE1,
  S_POSS_DIE2,
  S_POSS_DIE3,
  S_POSS_DIE4,
  S_POSS_DIE5,
  S_POSS_XDIE1,
  S_POSS_XDIE2,
  S_POSS_XDIE3,
  S_POSS_XDIE4,
  S_POSS_XDIE5,
  S_POSS_XDIE6,
  S_POSS_XDIE7,
  S_POSS_XDIE8,
  S_POSS_XDIE9,
  S_POSS_RAISE1,
  S_POSS_RAISE2,
  S_POSS_RAISE3,
  S_POSS_RAISE4,
  S_SPOS_STND,
  S_SPOS_STND2,
  S_SPOS_RUN1,
  S_SPOS_RUN2,
  S_SPOS_RUN3,
  S_SPOS_RUN4,
  S_SPOS_RUN5,
  S_SPOS_RUN6,
  S_SPOS_RUN7,
  S_SPOS_RUN8,
  S_SPOS_ATK1,
  S_SPOS_ATK2,
  S_SPOS_ATK3,
  S_SPOS_PAIN,
  S_SPOS_PAIN2,
  S_SPOS_DIE1,
  S_SPOS_DIE2,
  S_SPOS_DIE3,
  S_SPOS_DIE4,
  S_SPOS_DIE5,
  S_SPOS_XDIE1,
  S_SPOS_XDIE2,
  S_SPOS_XDIE3,
  S_SPOS_XDIE4,
  S_SPOS_XDIE5,
  S_SPOS_XDIE6,
  S_SPOS_XDIE7,
  S_SPOS_XDIE8,
  S_SPOS_XDIE9,
  S_SPOS_RAISE1,
  S_SPOS_RAISE2,
  S_SPOS_RAISE3,
  S_SPOS_RAISE4,
  S_SPOS_RAISE5,
  S_VILE_STND,
  S_VILE_STND2,
  S_VILE_RUN1,
  S_VILE_RUN2,
  S_VILE_RUN3,
  S_VILE_RUN4,
  S_VILE_RUN5,
  S_VILE_RUN6,
  S_VILE_RUN7,
  S_VILE_RUN8,
  S_VILE_RUN9,
  S_VILE_RUN10,
  S_VILE_RUN11,
  S_VILE_RUN12,
  S_VILE_ATK1,
  S_VILE_ATK2,
  S_VILE_ATK3,
  S_VILE_ATK4,
  S_VILE_ATK5,
  S_VILE_ATK6,
  S_VILE_ATK7,
  S_VILE_ATK8,
  S_VILE_ATK9,
  S_VILE_ATK10,
  S_VILE_ATK11,
  S_VILE_HEAL1,
  S_VILE_HEAL2,
  S_VILE_HEAL3,
  S_VILE_PAIN,
  S_VILE_PAIN2,
  S_VILE_DIE1,
  S_VILE_DIE2,
  S_VILE_DIE3,
  S_VILE_DIE4,
  S_VILE_DIE5,
  S_VILE_DIE6,
  S_VILE_DIE7,
  S_VILE_DIE8,
  S_VILE_DIE9,
  S_VILE_DIE10,
  S_FIRE1,
  S_FIRE2,
  S_FIRE3,
  S_FIRE4,
  S_FIRE5,
  S_FIRE6,
  S_FIRE7,
  S_FIRE8,
  S_FIRE9,
  S_FIRE10,
  S_FIRE11,
  S_FIRE12,
  S_FIRE13,
  S_FIRE14,
  S_FIRE15,
  S_FIRE16,
  S_FIRE17,
  S_FIRE18,
  S_FIRE19,
  S_FIRE20,
  S_FIRE21,
  S_FIRE22,
  S_FIRE23,
  S_FIRE24,
  S_FIRE25,
  S_FIRE26,
  S_FIRE27,
  S_FIRE28,
  S_FIRE29,
  S_FIRE30,
  S_SMOKE1,
  S_SMOKE2,
  S_SMOKE3,
  S_SMOKE4,
  S_SMOKE5,
  S_TRACER,
  S_TRACER2,
  S_TRACEEXP1,
  S_TRACEEXP2,
  S_TRACEEXP3,
  S_SKEL_STND,
  S_SKEL_STND2,
  S_SKEL_RUN1,
  S_SKEL_RUN2,
  S_SKEL_RUN3,
  S_SKEL_RUN4,
  S_SKEL_RUN5,
  S_SKEL_RUN6,
  S_SKEL_RUN7,
  S_SKEL_RUN8,
  S_SKEL_RUN9,
  S_SKEL_RUN10,
  S_SKEL_RUN11,
  S_SKEL_RUN12,
  S_SKEL_FIST1,
  S_SKEL_FIST2,
  S_SKEL_FIST3,
  S_SKEL_FIST4,
  S_SKEL_MISS1,
  S_SKEL_MISS2,
  S_SKEL_MISS3,
  S_SKEL_MISS4,
  S_SKEL_PAIN,
  S_SKEL_PAIN2,
  S_SKEL_DIE1,
  S_SKEL_DIE2,
  S_SKEL_DIE3,
  S_SKEL_DIE4,
  S_SKEL_DIE5,
  S_SKEL_DIE6,
  S_SKEL_RAISE1,
  S_SKEL_RAISE2,
  S_SKEL_RAISE3,
  S_SKEL_RAISE4,
  S_SKEL_RAISE5,
  S_SKEL_RAISE6,
  S_FATSHOT1,
  S_FATSHOT2,
  S_FATSHOTX1,
  S_FATSHOTX2,
  S_FATSHOTX3,
  S_FATT_STND,
  S_FATT_STND2,
  S_FATT_RUN1,
  S_FATT_RUN2,
  S_FATT_RUN3,
  S_FATT_RUN4,
  S_FATT_RUN5,
  S_FATT_RUN6,
  S_FATT_RUN7,
  S_FATT_RUN8,
  S_FATT_RUN9,
  S_FATT_RUN10,
  S_FATT_RUN11,
  S_FATT_RUN12,
  S_FATT_ATK1,
  S_FATT_ATK2,
  S_FATT_ATK3,
  S_FATT_ATK4,
  S_FATT_ATK5,
  S_FATT_ATK6,
  S_FATT_ATK7,
  S_FATT_ATK8,
  S_FATT_ATK9,
  S_FATT_ATK10,
  S_FATT_PAIN,
  S_FATT_PAIN2,
  S_FATT_DIE1,
  S_FATT_DIE2,
  S_FATT_DIE3,
  S_FATT_DIE4,
  S_FATT_DIE5,
  S_FATT_DIE6,
  S_FATT_DIE7,
  S_FATT_DIE8,
  S_FATT_DIE9,
  S_FATT_DIE10,
  S_FATT_RAISE1,
  S_FATT_RAISE2,
  S_FATT_RAISE3,
  S_FATT_RAISE4,
  S_FATT_RAISE5,
  S_FATT_RAISE6,
  S_FATT_RAISE7,
  S_FATT_RAISE8,
  S_CPOS_STND,
  S_CPOS_STND2,
  S_CPOS_RUN1,
  S_CPOS_RUN2,
  S_CPOS_RUN3,
  S_CPOS_RUN4,
  S_CPOS_RUN5,
  S_CPOS_RUN6,
  S_CPOS_RUN7,
  S_CPOS_RUN8,
  S_CPOS_ATK1,
  S_CPOS_ATK2,
  S_CPOS_ATK3,
  S_CPOS_ATK4,
  S_CPOS_PAIN,
  S_CPOS_PAIN2,
  S_CPOS_DIE1,
  S_CPOS_DIE2,
  S_CPOS_DIE3,
  S_CPOS_DIE4,
  S_CPOS_DIE5,
  S_CPOS_DIE6,
  S_CPOS_DIE7,
  S_CPOS_XDIE1,
  S_CPOS_XDIE2,
  S_CPOS_XDIE3,
  S_CPOS_XDIE4,
  S_CPOS_XDIE5,
  S_CPOS_XDIE6,
  S_CPOS_RAISE1,
  S_CPOS_RAISE2,
  S_CPOS_RAISE3,
  S_CPOS_RAISE4,
  S_CPOS_RAISE5,
  S_CPOS_RAISE6,
  S_CPOS_RAISE7,
  S_TROO_STND,
  S_TROO_STND2,
  S_TROO_RUN1,
  S_TROO_RUN2,
  S_TROO_RUN3,
  S_TROO_RUN4,
  S_TROO_RUN5,
  S_TROO_RUN6,
  S_TROO_RUN7,
  S_TROO_RUN8,
  S_TROO_ATK1,
  S_TROO_ATK2,
  S_TROO_ATK3,
  S_TROO_PAIN,
  S_TROO_PAIN2,
  S_TROO_DIE1,
  S_TROO_DIE2,
  S_TROO_DIE3,
  S_TROO_DIE4,
  S_TROO_DIE5,
  S_TROO_XDIE1,
  S_TROO_XDIE2,
  S_TROO_XDIE3,
  S_TROO_XDIE4,
  S_TROO_XDIE5,
  S_TROO_XDIE6,
  S_TROO_XDIE7,
  S_TROO_XDIE8,
  S_TROO_RAISE1,
  S_TROO_RAISE2,
  S_TROO_RAISE3,
  S_TROO_RAISE4,
  S_TROO_RAISE5,
  S_SARG_STND,
  S_SARG_STND2,
  S_SARG_RUN1,
  S_SARG_RUN2,
  S_SARG_RUN3,
  S_SARG_RUN4,
  S_SARG_RUN5,
  S_SARG_RUN6,
  S_SARG_RUN7,
  S_SARG_RUN8,
  S_SARG_ATK1,
  S_SARG_ATK2,
  S_SARG_ATK3,
  S_SARG_PAIN,
  S_SARG_PAIN2,
  S_SARG_DIE1,
  S_SARG_DIE2,
  S_SARG_DIE3,
  S_SARG_DIE4,
  S_SARG_DIE5,
  S_SARG_DIE6,
  S_SARG_RAISE1,
  S_SARG_RAISE2,
  S_SARG_RAISE3,
  S_SARG_RAISE4,
  S_SARG_RAISE5,
  S_SARG_RAISE6,
  S_HEAD_STND,
  S_HEAD_RUN1,
  S_HEAD_ATK1,
  S_HEAD_ATK2,
  S_HEAD_ATK3,
  S_HEAD_PAIN,
  S_HEAD_PAIN2,
  S_HEAD_PAIN3,
  S_HEAD_DIE1,
  S_HEAD_DIE2,
  S_HEAD_DIE3,
  S_HEAD_DIE4,
  S_HEAD_DIE5,
  S_HEAD_DIE6,
  S_HEAD_RAISE1,
  S_HEAD_RAISE2,
  S_HEAD_RAISE3,
  S_HEAD_RAISE4,
  S_HEAD_RAISE5,
  S_HEAD_RAISE6,
  S_BRBALL1,
  S_BRBALL2,
  S_BRBALLX1,
  S_BRBALLX2,
  S_BRBALLX3,
  S_BOSS_STND,
  S_BOSS_STND2,
  S_BOSS_RUN1,
  S_BOSS_RUN2,
  S_BOSS_RUN3,
  S_BOSS_RUN4,
  S_BOSS_RUN5,
  S_BOSS_RUN6,
  S_BOSS_RUN7,
  S_BOSS_RUN8,
  S_BOSS_ATK1,
  S_BOSS_ATK2,
  S_BOSS_ATK3,
  S_BOSS_PAIN,
  S_BOSS_PAIN2,
  S_BOSS_DIE1,
  S_BOSS_DIE2,
  S_BOSS_DIE3,
  S_BOSS_DIE4,
  S_BOSS_DIE5,
  S_BOSS_DIE6,
  S_BOSS_DIE7,
  S_BOSS_RAISE1,
  S_BOSS_RAISE2,
  S_BOSS_RAISE3,
  S_BOSS_RAISE4,
  S_BOSS_RAISE5,
  S_BOSS_RAISE6,
  S_BOSS_RAISE7,
  S_BOS2_STND,
  S_BOS2_STND2,
  S_BOS2_RUN1,
  S_BOS2_RUN2,
  S_BOS2_RUN3,
  S_BOS2_RUN4,
  S_BOS2_RUN5,
  S_BOS2_RUN6,
  S_BOS2_RUN7,
  S_BOS2_RUN8,
  S_BOS2_ATK1,
  S_BOS2_ATK2,
  S_BOS2_ATK3,
  S_BOS2_PAIN,
  S_BOS2_PAIN2,
  S_BOS2_DIE1,
  S_BOS2_DIE2,
  S_BOS2_DIE3,
  S_BOS2_DIE4,
  S_BOS2_DIE5,
  S_BOS2_DIE6,
  S_BOS2_DIE7,
  S_BOS2_RAISE1,
  S_BOS2_RAISE2,
  S_BOS2_RAISE3,
  S_BOS2_RAISE4,
  S_BOS2_RAISE5,
  S_BOS2_RAISE6,
  S_BOS2_RAISE7,
  S_SKULL_STND,
  S_SKULL_STND2,
  S_SKULL_RUN1,
  S_SKULL_RUN2,
  S_SKULL_ATK1,
  S_SKULL_ATK2,
  S_SKULL_ATK3,
  S_SKULL_ATK4,
  S_SKULL_PAIN,
  S_SKULL_PAIN2,
  S_SKULL_DIE1,
  S_SKULL_DIE2,
  S_SKULL_DIE3,
  S_SKULL_DIE4,
  S_SKULL_DIE5,
  S_SKULL_DIE6,
  S_SPID_STND,
  S_SPID_STND2,
  S_SPID_RUN1,
  S_SPID_RUN2,
  S_SPID_RUN3,
  S_SPID_RUN4,
  S_SPID_RUN5,
  S_SPID_RUN6,
  S_SPID_RUN7,
  S_SPID_RUN8,
  S_SPID_RUN9,
  S_SPID_RUN10,
  S_SPID_RUN11,
  S_SPID_RUN12,
  S_SPID_ATK1,
  S_SPID_ATK2,
  S_SPID_ATK3,
  S_SPID_ATK4,
  S_SPID_PAIN,
  S_SPID_PAIN2,
  S_SPID_DIE1,
  S_SPID_DIE2,
  S_SPID_DIE3,
  S_SPID_DIE4,
  S_SPID_DIE5,
  S_SPID_DIE6,
  S_SPID_DIE7,
  S_SPID_DIE8,
  S_SPID_DIE9,
  S_SPID_DIE10,
  S_SPID_DIE11,
  S_BSPI_STND,
  S_BSPI_STND2,
  S_BSPI_SIGHT,
  S_BSPI_RUN1,
  S_BSPI_RUN2,
  S_BSPI_RUN3,
  S_BSPI_RUN4,
  S_BSPI_RUN5,
  S_BSPI_RUN6,
  S_BSPI_RUN7,
  S_BSPI_RUN8,
  S_BSPI_RUN9,
  S_BSPI_RUN10,
  S_BSPI_RUN11,
  S_BSPI_RUN12,
  S_BSPI_ATK1,
  S_BSPI_ATK2,
  S_BSPI_ATK3,
  S_BSPI_ATK4,
  S_BSPI_PAIN,
  S_BSPI_PAIN2,
  S_BSPI_DIE1,
  S_BSPI_DIE2,
  S_BSPI_DIE3,
  S_BSPI_DIE4,
  S_BSPI_DIE5,
  S_BSPI_DIE6,
  S_BSPI_DIE7,
  S_BSPI_RAISE1,
  S_BSPI_RAISE2,
  S_BSPI_RAISE3,
  S_BSPI_RAISE4,
  S_BSPI_RAISE5,
  S_BSPI_RAISE6,
  S_BSPI_RAISE7,
  S_ARACH_PLAZ,
  S_ARACH_PLAZ2,
  S_ARACH_PLEX,
  S_ARACH_PLEX2,
  S_ARACH_PLEX3,
  S_ARACH_PLEX4,
  S_ARACH_PLEX5,
  S_CYBER_STND,
  S_CYBER_STND2,
  S_CYBER_RUN1,
  S_CYBER_RUN2,
  S_CYBER_RUN3,
  S_CYBER_RUN4,
  S_CYBER_RUN5,
  S_CYBER_RUN6,
  S_CYBER_RUN7,
  S_CYBER_RUN8,
  S_CYBER_ATK1,
  S_CYBER_ATK2,
  S_CYBER_ATK3,
  S_CYBER_ATK4,
  S_CYBER_ATK5,
  S_CYBER_ATK6,
  S_CYBER_PAIN,
  S_CYBER_DIE1,
  S_CYBER_DIE2,
  S_CYBER_DIE3,
  S_CYBER_DIE4,
  S_CYBER_DIE5,
  S_CYBER_DIE6,
  S_CYBER_DIE7,
  S_CYBER_DIE8,
  S_CYBER_DIE9,
  S_CYBER_DIE10,
  S_PAIN_STND,
  S_PAIN_RUN1,
  S_PAIN_RUN2,
  S_PAIN_RUN3,
  S_PAIN_RUN4,
  S_PAIN_RUN5,
  S_PAIN_RUN6,
  S_PAIN_ATK1,
  S_PAIN_ATK2,
  S_PAIN_ATK3,
  S_PAIN_ATK4,
  S_PAIN_PAIN,
  S_PAIN_PAIN2,
  S_PAIN_DIE1,
  S_PAIN_DIE2,
  S_PAIN_DIE3,
  S_PAIN_DIE4,
  S_PAIN_DIE5,
  S_PAIN_DIE6,
  S_PAIN_RAISE1,
  S_PAIN_RAISE2,
  S_PAIN_RAISE3,
  S_PAIN_RAISE4,
  S_PAIN_RAISE5,
  S_PAIN_RAISE6,
  S_SSWV_STND,
  S_SSWV_STND2,
  S_SSWV_RUN1,
  S_SSWV_RUN2,
  S_SSWV_RUN3,
  S_SSWV_RUN4,
  S_SSWV_RUN5,
  S_SSWV_RUN6,
  S_SSWV_RUN7,
  S_SSWV_RUN8,
  S_SSWV_ATK1,
  S_SSWV_ATK2,
  S_SSWV_ATK3,
  S_SSWV_ATK4,
  S_SSWV_ATK5,
  S_SSWV_ATK6,
  S_SSWV_PAIN,
  S_SSWV_PAIN2,
  S_SSWV_DIE1,
  S_SSWV_DIE2,
  S_SSWV_DIE3,
  S_SSWV_DIE4,
  S_SSWV_DIE5,
  S_SSWV_XDIE1,
  S_SSWV_XDIE2,
  S_SSWV_XDIE3,
  S_SSWV_XDIE4,
  S_SSWV_XDIE5,
  S_SSWV_XDIE6,
  S_SSWV_XDIE7,
  S_SSWV_XDIE8,
  S_SSWV_XDIE9,
  S_SSWV_RAISE1,
  S_SSWV_RAISE2,
  S_SSWV_RAISE3,
  S_SSWV_RAISE4,
  S_SSWV_RAISE5,
  S_KEENSTND,
  S_COMMKEEN,
  S_COMMKEEN2,
  S_COMMKEEN3,
  S_COMMKEEN4,
  S_COMMKEEN5,
  S_COMMKEEN6,
  S_COMMKEEN7,
  S_COMMKEEN8,
  S_COMMKEEN9,
  S_COMMKEEN10,
  S_COMMKEEN11,
  S_COMMKEEN12,
  S_KEENPAIN,
  S_KEENPAIN2,
  S_BRAIN,
  S_BRAIN_PAIN,
  S_BRAIN_DIE1,
  S_BRAIN_DIE2,
  S_BRAIN_DIE3,
  S_BRAIN_DIE4,
  S_BRAINEYE,
  S_BRAINEYESEE,
  S_BRAINEYE1,
  S_SPAWN1,
  S_SPAWN2,
  S_SPAWN3,
  S_SPAWN4,
  S_SPAWNFIRE1,
  S_SPAWNFIRE2,
  S_SPAWNFIRE3,
  S_SPAWNFIRE4,
  S_SPAWNFIRE5,
  S_SPAWNFIRE6,
  S_SPAWNFIRE7,
  S_SPAWNFIRE8,
  S_BRAINEXPLODE1,
  S_BRAINEXPLODE2,
  S_BRAINEXPLODE3,
  S_ARM1,
  S_ARM1A,
  S_ARM2,
  S_ARM2A,
  S_BAR1,
  S_BAR2,
  S_BEXP,
  S_BEXP2,
  S_BEXP3,
  S_BEXP4,
  S_BEXP5,
  S_BBAR1,
  S_BBAR2,
  S_BBAR3,
  S_BON1,
  S_BON1A,
  S_BON1B,
  S_BON1C,
  S_BON1D,
  S_BON1E,
  S_BON2,
  S_BON2A,
  S_BON2B,
  S_BON2C,
  S_BON2D,
  S_BON2E,
  S_BKEY,
  S_BKEY2,
  S_RKEY,
  S_RKEY2,
  S_YKEY,
  S_YKEY2,
  S_BSKULL,
  S_BSKULL2,
  S_RSKULL,
  S_RSKULL2,
  S_YSKULL,
  S_YSKULL2,
  S_STIM,
  S_MEDI,
  S_SOUL,
  S_SOUL2,
  S_SOUL3,
  S_SOUL4,
  S_SOUL5,
  S_SOUL6,
  S_PINV,
  S_PINV2,
  S_PINV3,
  S_PINV4,
  S_PSTR,
  S_PINS,
  S_PINS2,
  S_PINS3,
  S_PINS4,
  S_MEGA,
  S_MEGA2,
  S_MEGA3,
  S_MEGA4,
  S_SUIT,
  S_PMAP,
  S_PMAP2,
  S_PMAP3,
  S_PMAP4,
  S_PMAP5,
  S_PMAP6,
  S_PVIS,
  S_PVIS2,
  S_CLIP,
  S_AMMO,
  S_ROCK,
  S_BROK,
  S_CELL,
  S_CELP,
  S_SHEL,
  S_SBOX,
  S_BPAK,
  S_BFUG,
  S_MGUN,
  S_CSAW,
  S_LAUN,
  S_PLAS,
  S_SHOT,
  S_SHOT2,
  S_COLU,
  S_STALAG,
  S_BLOODYTWITCH,
  S_BLOODYTWITCH2,
  S_BLOODYTWITCH3,
  S_BLOODYTWITCH4,
  S_DEADTORSO,
  S_DEADBOTTOM,
  S_HEADSONSTICK,
  S_GIBS,
  S_HEADONASTICK,
  S_HEADCANDLES,
  S_HEADCANDLES2,
  S_DEADSTICK,
  S_LIVESTICK,
  S_LIVESTICK2,
  S_MEAT2,
  S_MEAT3,
  S_MEAT4,
  S_MEAT5,
  S_STALAGTITE,
  S_TALLGRNCOL,
  S_SHRTGRNCOL,
  S_TALLREDCOL,
  S_SHRTREDCOL,
  S_CANDLESTIK,
  S_CANDELABRA,
  S_SKULLCOL,
  S_TORCHTREE,
  S_BIGTREE,
  S_TECHPILLAR,
  S_EVILEYE,
  S_EVILEYE2,
  S_EVILEYE3,
  S_EVILEYE4,
  S_FLOATSKULL,
  S_FLOATSKULL2,
  S_FLOATSKULL3,
  S_HEARTCOL,
  S_HEARTCOL2,
  S_BLUETORCH,
  S_BLUETORCH2,
  S_BLUETORCH3,
  S_BLUETORCH4,
  S_GREENTORCH,
  S_GREENTORCH2,
  S_GREENTORCH3,
  S_GREENTORCH4,
  S_REDTORCH,
  S_REDTORCH2,
  S_REDTORCH3,
  S_REDTORCH4,
  S_BTORCHSHRT,
  S_BTORCHSHRT2,
  S_BTORCHSHRT3,
  S_BTORCHSHRT4,
  S_GTORCHSHRT,
  S_GTORCHSHRT2,
  S_GTORCHSHRT3,
  S_GTORCHSHRT4,
  S_RTORCHSHRT,
  S_RTORCHSHRT2,
  S_RTORCHSHRT3,
  S_RTORCHSHRT4,
  S_HANGNOGUTS,
  S_HANGBNOBRAIN,
  S_HANGTLOOKDN,
  S_HANGTSKULL,
  S_HANGTLOOKUP,
  S_HANGTNOBRAIN,
  S_COLONGIBS,
  S_SMALLPOOL,
  S_BRAINSTEM,
  S_TECHLAMP,
  S_TECHLAMP2,
  S_TECHLAMP3,
  S_TECHLAMP4,
  S_TECH2LAMP,
  S_TECH2LAMP2,
  S_TECH2LAMP3,
  S_TECH2LAMP4,
  S_TNT1,

  S_GRENADE,
  S_DETONATE,
  S_DETONATE2,
  S_DETONATE3,


  S_DOGS_STND,
  S_DOGS_STND2,
  S_DOGS_RUN1,
  S_DOGS_RUN2,
  S_DOGS_RUN3,
  S_DOGS_RUN4,
  S_DOGS_RUN5,
  S_DOGS_RUN6,
  S_DOGS_RUN7,
  S_DOGS_RUN8,
  S_DOGS_ATK1,
  S_DOGS_ATK2,
  S_DOGS_ATK3,
  S_DOGS_PAIN,
  S_DOGS_PAIN2,
  S_DOGS_DIE1,
  S_DOGS_DIE2,
  S_DOGS_DIE3,
  S_DOGS_DIE4,
  S_DOGS_DIE5,
  S_DOGS_DIE6,
  S_DOGS_RAISE1,
  S_DOGS_RAISE2,
  S_DOGS_RAISE3,
  S_DOGS_RAISE4,
  S_DOGS_RAISE5,
  S_DOGS_RAISE6,



  S_OLDBFG1,
  S_OLDBFG42 = S_OLDBFG1+41,
  S_OLDBFG43,

  S_PLS1BALL,
  S_PLS1BALL2,
  S_PLS1EXP,
  S_PLS1EXP2,
  S_PLS1EXP3,
  S_PLS1EXP4,
  S_PLS1EXP5,

  S_PLS2BALL,
  S_PLS2BALL2,
  S_PLS2BALLX1,
  S_PLS2BALLX2,
  S_PLS2BALLX3,
  S_BON3,
  S_BON4,


  S_BSKUL_STND,
  S_BSKUL_RUN1,
  S_BSKUL_RUN2,
  S_BSKUL_RUN3,
  S_BSKUL_RUN4,
  S_BSKUL_ATK1,
  S_BSKUL_ATK2,
  S_BSKUL_ATK3,
  S_BSKUL_PAIN1,
  S_BSKUL_PAIN2,
  S_BSKUL_PAIN3,
  S_BSKUL_DIE1,
  S_BSKUL_DIE2,
  S_BSKUL_DIE3,
  S_BSKUL_DIE4,
  S_BSKUL_DIE5,
  S_BSKUL_DIE6,
  S_BSKUL_DIE7,
  S_BSKUL_DIE8,

  S_MUSHROOM,

  NUMSTATES

} statenum_t;





typedef struct
{
  spritenum_t sprite;
  long frame;
  long tics;
  actionf_t action;
  statenum_t nextstate;
  long misc1, misc2;
} state_t;


extern state_t states[NUMSTATES];
extern const char *sprnames[];







typedef enum {
  MT_PLAYER,
  MT_POSSESSED,
  MT_SHOTGUY,
  MT_VILE,
  MT_FIRE,
  MT_UNDEAD,
  MT_TRACER,
  MT_SMOKE,
  MT_FATSO,
  MT_FATSHOT,
  MT_CHAINGUY,
  MT_TROOP,
  MT_SERGEANT,
  MT_SHADOWS,
  MT_HEAD,
  MT_BRUISER,
  MT_BRUISERSHOT,
  MT_KNIGHT,
  MT_SKULL,
  MT_SPIDER,
  MT_BABY,
  MT_CYBORG,
  MT_PAIN,
  MT_WOLFSS,
  MT_KEEN,
  MT_BOSSBRAIN,
  MT_BOSSSPIT,
  MT_BOSSTARGET,
  MT_SPAWNSHOT,
  MT_SPAWNFIRE,
  MT_BARREL,
  MT_TROOPSHOT,
  MT_HEADSHOT,
  MT_ROCKET,
  MT_PLASMA,
  MT_BFG,
  MT_ARACHPLAZ,
  MT_PUFF,
  MT_BLOOD,
  MT_TFOG,
  MT_IFOG,
  MT_TELEPORTMAN,
  MT_EXTRABFG,
  MT_MISC0,
  MT_MISC1,
  MT_MISC2,
  MT_MISC3,
  MT_MISC4,
  MT_MISC5,
  MT_MISC6,
  MT_MISC7,
  MT_MISC8,
  MT_MISC9,
  MT_MISC10,
  MT_MISC11,
  MT_MISC12,
  MT_INV,
  MT_MISC13,
  MT_INS,
  MT_MISC14,
  MT_MISC15,
  MT_MISC16,
  MT_MEGA,
  MT_CLIP,
  MT_MISC17,
  MT_MISC18,
  MT_MISC19,
  MT_MISC20,
  MT_MISC21,
  MT_MISC22,
  MT_MISC23,
  MT_MISC24,
  MT_MISC25,
  MT_CHAINGUN,
  MT_MISC26,
  MT_MISC27,
  MT_MISC28,
  MT_SHOTGUN,
  MT_SUPERSHOTGUN,
  MT_MISC29,
  MT_MISC30,
  MT_MISC31,
  MT_MISC32,
  MT_MISC33,
  MT_MISC34,
  MT_MISC35,
  MT_MISC36,
  MT_MISC37,
  MT_MISC38,
  MT_MISC39,
  MT_MISC40,
  MT_MISC41,
  MT_MISC42,
  MT_MISC43,
  MT_MISC44,
  MT_MISC45,
  MT_MISC46,
  MT_MISC47,
  MT_MISC48,
  MT_MISC49,
  MT_MISC50,
  MT_MISC51,
  MT_MISC52,
  MT_MISC53,
  MT_MISC54,
  MT_MISC55,
  MT_MISC56,
  MT_MISC57,
  MT_MISC58,
  MT_MISC59,
  MT_MISC60,
  MT_MISC61,
  MT_MISC62,
  MT_MISC63,
  MT_MISC64,
  MT_MISC65,
  MT_MISC66,
  MT_MISC67,
  MT_MISC68,
  MT_MISC69,
  MT_MISC70,
  MT_MISC71,
  MT_MISC72,
  MT_MISC73,
  MT_MISC74,
  MT_MISC75,
  MT_MISC76,
  MT_MISC77,
  MT_MISC78,
  MT_MISC79,
  MT_MISC80,
  MT_MISC81,
  MT_MISC82,
  MT_MISC83,
  MT_MISC84,
  MT_MISC85,
  MT_MISC86,
  MT_PUSH,
  MT_PULL,


  MT_DOGS,




  MT_STEALTHBABY,
  MT_STEALTHVILE,
  MT_STEALTHBRUISER,
  MT_STEALTHHEAD,
  MT_STEALTHCHAINGUY,
  MT_STEALTHSERGEANT,
  MT_STEALTHKNIGHT,
  MT_STEALTHIMP,
  MT_STEALTHFATSO,
  MT_STEALTHUNDEAD,
  MT_STEALTHSHOTGUY,
  MT_STEALTHZOMBIE,

  NUMMOBJTYPES
} mobjtype_t;
# 1448 "c:/devl/prboom3ds/src/info.h"
typedef struct
{
  int doomednum;

  int spawnstate;

  int spawnhealth;
  int seestate;
  int seesound;
  int reactiontime;


  int attacksound;
  int painstate;
  int painchance;





  int painsound;
  int meleestate;
  int missilestate;

  int deathstate;
  int xdeathstate;

  int deathsound;


  int speed;

  int radius;
  int height;

  int mass;


  int damage;
  int activesound;

  uint_64_t flags;
  int raisestate;


} mobjinfo_t;


extern mobjinfo_t mobjinfo[NUMMOBJTYPES];
# 51 "c:/devl/prboom3ds/src/p_pspr.h" 2
# 70 "c:/devl/prboom3ds/src/p_pspr.h"
typedef enum
{
  ps_weapon,
  ps_flash,
  NUMPSPRITES
} psprnum_t;

typedef struct
{
  state_t *state;
  int tics;
  fixed_t sx;
  fixed_t sy;
} pspdef_t;

extern int weapon_preferences[2][NUMWEAPONS+1];
int P_WeaponPreferred(int w1, int w2);

struct player_s;
int P_SwitchWeapon(struct player_s *player);
int P_GetAmmoLevel(struct player_s *player, weapontype_t weapon);
boolean P_CheckAmmo(struct player_s *player);
void P_SetupPsprites(struct player_s *curplayer);
void P_MovePsprites(struct player_s *curplayer);
void P_DropWeapon(struct player_s *player);

void A_Light0();
void A_WeaponReady();
void A_Lower();
void A_Raise();
void A_Punch();
void A_ReFire();
void A_FirePistol();
void A_Light1();
void A_FireShotgun();
void A_Light2();
void A_FireShotgun2();
void A_CheckReload();
void A_OpenShotgun2();
void A_LoadShotgun2();
void A_CloseShotgun2();
void A_FireCGun();
void A_GunFlash();
void A_FireMissile();
void A_Saw();
void A_FirePlasma();
void A_BFGsound();
void A_FireBFG();
void A_BFGSpray();
# 45 "c:/devl/prboom3ds/src/d_player.h" 2



# 1 "c:/devl/prboom3ds/src/p_mobj.h" 1
# 46 "c:/devl/prboom3ds/src/p_mobj.h"
# 1 "c:/devl/prboom3ds/src/doomdata.h" 1
# 40 "c:/devl/prboom3ds/src/doomdata.h"
# 1 "c:/devl/prboom3ds/arm9/include/config.h" 1
# 41 "c:/devl/prboom3ds/src/doomdata.h" 2
# 51 "c:/devl/prboom3ds/src/doomdata.h"
enum {
  ML_LABEL,
  ML_THINGS,
  ML_LINEDEFS,
  ML_SIDEDEFS,
  ML_VERTEXES,
  ML_SEGS,
  ML_SSECTORS,
  ML_NODES,
  ML_SECTORS,
  ML_REJECT,
  ML_BLOCKMAP
};







typedef struct {
  short x,y;
} __attribute__((packed)) mapvertex_t;



typedef struct {
  short textureoffset;
  short rowoffset;
  char toptexture[8];
  char bottomtexture[8];
  char midtexture[8];
  short sector;
} __attribute__((packed)) mapsidedef_t;



typedef struct {
  unsigned short v1;
  unsigned short v2;
  unsigned short flags;
  short special;
  short tag;



  unsigned short sidenum[2];
} __attribute__((packed)) maplinedef_t;
# 147 "c:/devl/prboom3ds/src/doomdata.h"
typedef struct {
  short floorheight;
  short ceilingheight;
  char floorpic[8];
  char ceilingpic[8];
  short lightlevel;
  short special;
  short tag;
} __attribute__((packed)) mapsector_t;


typedef struct {
  unsigned short numsegs;
  unsigned short firstseg;
} __attribute__((packed)) mapsubsector_t;



typedef struct {
  unsigned short v1;
  unsigned short v2;
  short angle;
  unsigned short linedef;
  short side;
  short offset;
} __attribute__((packed)) mapseg_t;






typedef struct {
  short x;
  short y;
  short dx;
  short dy;

  short bbox[2][4];

  unsigned short children[2];
} __attribute__((packed)) mapnode_t;



typedef struct {
  short x;
  short y;
  short angle;
  short type;
  short options;
} __attribute__((packed)) mapthing_t;
# 47 "c:/devl/prboom3ds/src/p_mobj.h" 2
# 224 "c:/devl/prboom3ds/src/p_mobj.h"
enum {
  MIF_FALLING = 1,
  MIF_ARMED = 2,
};
# 248 "c:/devl/prboom3ds/src/p_mobj.h"
typedef struct mobj_s
{

    thinker_t thinker;


    fixed_t x;
    fixed_t y;
    fixed_t z;


    struct mobj_s* snext;
    struct mobj_s** sprev;


    angle_t angle;
    spritenum_t sprite;
    int frame;



    struct mobj_s* bnext;
    struct mobj_s** bprev;

    struct subsector_s* subsector;


    fixed_t floorz;
    fixed_t ceilingz;


    fixed_t dropoffz;


    fixed_t radius;
    fixed_t height;


    fixed_t momx;
    fixed_t momy;
    fixed_t momz;


    int validcount;

    mobjtype_t type;
    mobjinfo_t* info;

    int tics;
    state_t* state;
    uint_64_t flags;
    int intflags;
    int health;


    short movedir;
    short movecount;
    short strafecount;



    struct mobj_s* target;



    short reactiontime;



    short threshold;


    short pursuecount;

    short gear;



    struct player_s* player;


    short lastlook;


    mapthing_t spawnpoint;


    struct mobj_s* tracer;


    struct mobj_s* lastenemy;





    int friction;
    int movefactor;


    struct msecnode_s* touching_sectorlist;

    fixed_t PrevX;
    fixed_t PrevY;
    fixed_t PrevZ;

    fixed_t pad;


} mobj_t;
# 385 "c:/devl/prboom3ds/src/p_mobj.h"
extern int iquehead;
extern int iquetail;

void P_RespawnSpecials(void);
mobj_t *P_SpawnMobj(fixed_t x, fixed_t y, fixed_t z, mobjtype_t type);
void P_RemoveMobj(mobj_t *th);
boolean P_SetMobjState(mobj_t *mobj, statenum_t state);
void P_MobjThinker(mobj_t *mobj);
void P_SpawnPuff(fixed_t x, fixed_t y, fixed_t z);
void P_SpawnBlood(fixed_t x, fixed_t y, fixed_t z, int damage);
mobj_t *P_SpawnMissile(mobj_t *source, mobj_t *dest, mobjtype_t type);
void P_SpawnPlayerMissile(mobj_t *source, mobjtype_t type);
boolean P_IsDoomnumAllowed(int doomnum);
void P_SpawnMapThing (const mapthing_t* mthing);
void P_SpawnPlayer(int n, const mapthing_t *mthing);
void P_CheckMissileSpawn(mobj_t*);
void P_ExplodeMissile(mobj_t*);
# 49 "c:/devl/prboom3ds/src/d_player.h" 2




# 1 "c:/devl/prboom3ds/src/d_ticcmd.h" 1
# 49 "c:/devl/prboom3ds/src/d_ticcmd.h"
typedef struct
{
  signed char forwardmove;
  signed char sidemove;
  signed short angleturn;
  short consistancy;
  byte chatchar;
  byte buttons;
} ticcmd_t;
# 54 "c:/devl/prboom3ds/src/d_player.h" 2
# 63 "c:/devl/prboom3ds/src/d_player.h"
typedef enum
{

  PST_LIVE,

  PST_DEAD,

  PST_REBORN

} playerstate_t;





typedef enum
{

  CF_NOCLIP = 1,

  CF_GODMODE = 2,

  CF_NOMOMENTUM = 4

} cheat_t;





typedef struct player_s
{
  mobj_t* mo;
  playerstate_t playerstate;
  ticcmd_t cmd;




  fixed_t viewz;

  fixed_t viewheight;

  fixed_t deltaviewheight;

  fixed_t bob;






  fixed_t momx, momy;



  int health;
  int armorpoints;

  int armortype;


  int powers[NUMPOWERS];
  boolean cards[NUMCARDS];
  boolean backpack;


  int frags[4];
  weapontype_t readyweapon;


  weapontype_t pendingweapon;

  boolean weaponowned[NUMWEAPONS];
  int ammo[NUMAMMO];
  int maxammo[NUMAMMO];


  int attackdown;
  int usedown;



  int cheats;


  int refire;


  int killcount;
  int itemcount;
  int secretcount;


  const char* message;


  int damagecount;
  int bonuscount;


  mobj_t* attacker;


  int extralight;



  int fixedcolormap;



  int colormap;


  pspdef_t psprites[NUMPSPRITES];


  boolean didsecret;

} player_t;






typedef struct
{
  boolean in;


  int skills;
  int sitems;
  int ssecret;
  int stime;
  int frags[4];
  int score;

} wbplayerstruct_t;

typedef struct
{
  int epsd;


  boolean didsecret;


  int last;
  int next;

  int maxkills;
  int maxitems;
  int maxsecret;
  int maxfrags;


  int partime;


  int pnum;

  wbplayerstruct_t plyr[4];


  int totaltimes;

} wbstartstruct_t;
# 44 "c:/devl/prboom3ds/src/doomstat.h" 2
# 53 "c:/devl/prboom3ds/src/doomstat.h"
extern boolean nomonsters;
extern boolean respawnparm;
extern boolean fastparm;
extern boolean devparm;





extern GameMode_t gamemode;
extern GameMission_t gamemission;


extern boolean modifiedgame;


extern complevel_t compatibility_level, default_compatibility_level;







extern int pitched_sounds;

extern int default_translucency;
extern boolean general_translucency;

extern int demo_insurance, default_demo_insurance;




enum {
  comp_telefrag,
  comp_dropoff,
  comp_vile,
  comp_pain,
  comp_skull,
  comp_blazing,
  comp_doorlight,
  comp_model,
  comp_god,
  comp_falloff,
  comp_floors,
  comp_skymap,
  comp_pursuit,
  comp_doorstuck,
  comp_staylift,
  comp_zombie,
  comp_stairs,
  comp_infcheat,
  comp_zerotags,
  comp_moveblock,
  comp_respawn,
  comp_sound,
  comp_666,
  comp_soul,
  comp_maskedanim,
  COMP_NUM,
  COMP_TOTAL=32
};

extern int comp[COMP_TOTAL], default_comp[COMP_TOTAL];



extern Language_t language;






extern skill_t startskill;
extern int startepisode;
extern int startmap;

extern boolean autostart;


extern skill_t gameskill;
extern int gameepisode;
extern int gamemap;


extern boolean respawnmonsters;


extern boolean netgame;



extern boolean deathmatch;
# 160 "c:/devl/prboom3ds/src/doomstat.h"
extern int snd_SfxVolume;
extern int snd_MusicVolume;


extern unsigned int desired_screenwidth, desired_screenheight;





enum automapmode_e {
  am_active = 1,
  am_overlay= 2,
  am_rotate = 4,
  am_follow = 8,
  am_grid =16,
};
extern enum automapmode_e automapmode;

enum menuactive_e {
  mnact_inactive,
  mnact_float,
  mnact_full,
};
extern enum menuactive_e menuactive;

extern boolean paused;
extern boolean nodrawers;
extern boolean noblit;



extern int viewangleoffset;


extern int consoleplayer;
extern int displayplayer;





extern int totalkills, totallive;
extern int totalitems;
extern int totalsecret;


extern int basetic;
extern int leveltime;




extern boolean usergame;
extern boolean demoplayback;
extern boolean demorecording;
extern int demover;


extern boolean singledemo;

extern boolean timingdemo;

extern boolean fastdemo;

extern gamestate_t gamestate;







extern int gametic;



extern player_t players[4];


extern boolean playeringame[4];
extern boolean realplayeringame[4];

extern mapthing_t *deathmatchstarts;
extern size_t num_deathmatchstarts;

extern mapthing_t *deathmatch_p;


extern mapthing_t playerstarts[];



extern wbstartstruct_t wminfo;






extern FILE *debugfile;


extern boolean precache;



extern gamestate_t wipegamestate;

extern int mouseSensitivity_horiz;
extern int mouseSensitivity_vert;


extern boolean singletics;

extern int bodyqueslot;




extern int skyflatnum;

extern int maketic;




extern ticcmd_t netcmds[][12];
extern int ticdup;



extern int allow_pushers;
extern int default_allow_pushers;

extern int variable_friction;
extern int default_variable_friction;

extern int monsters_remember;
extern int default_monsters_remember;

extern int weapon_recoil;
extern int default_weapon_recoil;

extern int player_bobbing;
extern int default_player_bobbing;


extern int dogs, default_dogs;
extern int dog_jumping, default_dog_jumping;



extern int distfriend, default_distfriend;


extern int monster_backing, default_monster_backing;


extern int monster_avoid_hazards, default_monster_avoid_hazards;


extern int monster_friction, default_monster_friction;


extern int help_friends, default_help_friends;

extern int flashing_hom;

extern int doom_weapon_toggles;


extern int monster_infighting, default_monster_infighting;

extern int monkeys, default_monkeys;

extern int HelperThing;
# 38 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/m_bbox.h" 1
# 38 "c:/devl/prboom3ds/src/m_bbox.h"
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include-fixed\\limits.h" 1 3 4
# 39 "c:/devl/prboom3ds/src/m_bbox.h" 2



enum
{
  BOXTOP,
  BOXBOTTOM,
  BOXLEFT,
  BOXRIGHT
};



void M_ClearBox(fixed_t* box);

void M_AddToBox(fixed_t* box,fixed_t x,fixed_t y);
# 39 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/m_argv.h" 1
# 41 "c:/devl/prboom3ds/src/m_argv.h"
extern int myargc;
extern const char * const * myargv;


int M_CheckParm(const char *check);
# 40 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/g_game.h" 1
# 36 "c:/devl/prboom3ds/src/g_game.h"
# 1 "c:/devl/prboom3ds/src/d_event.h" 1
# 47 "c:/devl/prboom3ds/src/d_event.h"
typedef enum
{
  ev_keydown,
  ev_keyup,
  ev_mouse,
  ev_joystick
} evtype_t;


typedef struct
{
  evtype_t type;
  int data1;
  int data2;
  int data3;
} event_t;


typedef enum
{
  ga_nothing,
  ga_loadlevel,
  ga_newgame,
  ga_loadgame,
  ga_savegame,
  ga_playdemo,
  ga_completed,
  ga_victory,
  ga_worlddone,
} gameaction_t;






typedef enum
{

  BT_ATTACK = 1,


  BT_USE = 2,


  BT_SPECIAL = 128,
  BT_SPECIALMASK = 3,



  BT_CHANGE = 4,



  BT_WEAPONMASK = (8+16+32+64),
  BT_WEAPONSHIFT = 3,


  BTS_LOADGAME = 0,

  BTS_PAUSE = 1,

  BTS_SAVEGAME = 2,
  BTS_RESTARTLEVEL= 3,


  BTS_SAVEMASK = (4+8+16),
  BTS_SAVESHIFT = 2,

} buttoncode_t;






extern gameaction_t gameaction;
# 37 "c:/devl/prboom3ds/src/g_game.h" 2
# 46 "c:/devl/prboom3ds/src/g_game.h"
boolean G_Responder(event_t *ev);
boolean G_CheckDemoStatus(void);
void G_DeathMatchSpawnPlayer(int playernum);
void G_InitNew(skill_t skill, int episode, int map);
void G_DeferedInitNew(skill_t skill, int episode, int map);
void G_DeferedPlayDemo(const char *demo);
void G_LoadGame(int slot, boolean is_command);
void G_ForcedLoadGame(void);
void G_DoLoadGame(void);
void G_SaveGame(int slot, char *description);
void G_BeginRecording(void);

void G_RecordDemo(const char *name);
void G_ExitLevel(void);
void G_SecretExitLevel(void);
void G_WorldDone(void);
void G_EndGame(void);
void G_Ticker(void);
void G_ReloadDefaults(void);
int G_SaveGameName(char *, size_t, int, boolean);
void G_SetFastParms(int);
void G_DoNewGame(void);
void G_DoReborn(int playernum);
void G_DoPlayDemo(void);
void G_DoCompleted(void);
void G_ReadDemoTiccmd(ticcmd_t *cmd);
void G_WriteDemoTiccmd(ticcmd_t *cmd);
void G_DoWorldDone(void);
void G_Compatibility(void);
const byte *G_ReadOptions(const byte *demo_p);
byte *G_WriteOptions(byte *demo_p);
void G_PlayerReborn(int player);
void G_RestartLevel(void);
void G_DoVictory(void);
void G_BuildTiccmd (ticcmd_t* cmd);
void G_ChangedPlayerColour(int pn, int cl);
void G_MakeSpecialEvent(buttoncode_t bc, ...);



void doom_printf(const char *, ...) __attribute__((format(printf,1,2)));



extern int key_right;
extern int key_left;
extern int key_up;
extern int key_down;
extern int key_menu_right;
extern int key_menu_left;
extern int key_menu_up;
extern int key_menu_down;
extern int key_menu_backspace;
extern int key_menu_escape;
extern int key_menu_enter;
extern int key_strafeleft;
extern int key_straferight;

extern int key_fire;
extern int key_use;
extern int key_strafe;
extern int key_speed;
extern int key_escape;
extern int key_savegame;
extern int key_loadgame;
extern int key_autorun;
extern int key_reverse;
extern int key_zoomin;
extern int key_zoomout;
extern int key_chat;
extern int key_backspace;
extern int key_enter;
extern int key_help;
extern int key_soundvolume;
extern int key_hud;
extern int key_quicksave;
extern int key_endgame;
extern int key_messages;
extern int key_quickload;
extern int key_quit;
extern int key_gamma;
extern int key_spy;
extern int key_pause;
extern int key_setup;
extern int key_forward;
extern int key_leftturn;
extern int key_rightturn;
extern int key_backward;
extern int key_weapontoggle;
extern int key_weapon1;
extern int key_weapon2;
extern int key_weapon3;
extern int key_weapon4;
extern int key_weapon5;
extern int key_weapon6;
extern int key_weapon7;
extern int key_weapon8;
extern int key_weapon9;
extern int destination_keys[4];
extern int key_map_right;
extern int key_map_left;
extern int key_map_up;
extern int key_map_down;
extern int key_map_zoomin;
extern int key_map_zoomout;
extern int key_map;
extern int key_map_gobig;
extern int key_map_follow;
extern int key_map_mark;
extern int key_map_clear;
extern int key_map_grid;
extern int key_map_rotate;
extern int key_map_overlay;
extern int key_screenshot;
extern int autorun;
extern int mousebfire;
extern int mousebstrafe;
extern int mousebforward;
extern int mousebbackward;
extern int mousebuse;
extern int mouse_double_click_use;
extern int joybfire;
extern int joybstrafe;
extern int joybuse;
extern int joybspeed;

extern int defaultskill;
extern boolean haswolflevels;

extern int bodyquesize;



extern int pars[4][10];
extern int cpars[32];


extern char savedescription[32];


extern const char * comp_lev_str[];
# 41 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/w_wad.h" 1
# 47 "c:/devl/prboom3ds/src/w_wad.h"
typedef struct
{
  char identification[4];
  int numlumps;
  int infotableofs;
} wadinfo_t;

typedef struct
{
  int filepos;
  int size;
  char name[8];
} filelump_t;







typedef enum {

  source_iwad=0,
  source_pre,
  source_auto_load,
  source_pwad,
  source_lmp,
  source_net
} wad_source_t;




typedef struct {
  const char* name;
  wad_source_t src;
  FILE* handle;
} wadfile_info_t;

extern wadfile_info_t *wadfiles;

extern size_t numwadfiles;

void W_Init(void);
void W_ReleaseAllWads(void);
void W_InitCache(void);
void W_DoneCache(void);

typedef struct
{


  char name[9];
  int size;


  int index, next;


  enum {
    ns_global=0,
    ns_sprites,
    ns_flats,
    ns_colormaps,
    ns_hires,
    ns_prboom
  } li_namespace;

  wadfile_info_t *wadfile;
  int position;
  wad_source_t source;
} lumpinfo_t;

extern lumpinfo_t *lumpinfo;
extern int numlumps;





int (W_FindNumFromName)(const char *name, int ns, int lump);
int W_ListNumFromName(const char *name, int lump);

static inline
int (W_CheckNumForName)(const char *name, int ns)
        { return (W_FindNumFromName)(name, ns, -1); }
int W_GetNumForName (const char* name);
int W_LumpLength (int lump);
void W_ReadLump (int lump, void *dest);

const void* W_CacheLumpNum (int lump);
const void* W_LockLumpNum(int lump);
void W_UnlockLumpNum(int lump);
int W_LumpIsCached(int lump);
# 149 "c:/devl/prboom3ds/src/w_wad.h"
char *AddDefaultExtension(char *, const char *);
void ExtractFileBase(const char *, char *);
unsigned W_LumpNameHash(const char *s);
void W_HashLumps(void);
# 42 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/r_main.h" 1
# 38 "c:/devl/prboom3ds/src/r_main.h"
# 1 "c:/devl/prboom3ds/src/r_data.h" 1
# 39 "c:/devl/prboom3ds/src/r_data.h"
# 1 "c:/devl/prboom3ds/src/r_defs.h" 1
# 74 "c:/devl/prboom3ds/src/r_defs.h"
typedef struct
{
 union {
  struct {
   fixed_t x, y;
  };
  fixed_t v[2];
 };
} vertex_t;


typedef struct
{
  thinker_t thinker;
  fixed_t x, y, z;
} degenmobj_t;






typedef struct
{
  int iSectorID;
  boolean no_toptextures;
  boolean no_bottomtextures;
  fixed_t floorheight;
  fixed_t ceilingheight;
  int nexttag,firsttag;
  int soundtraversed;
  mobj_t *soundtarget;
  int blockbox[4];
  degenmobj_t soundorg;
  int validcount;
  mobj_t *thinglist;





  int friction,movefactor;


  void *floordata;
  void *ceilingdata;
  void *lightingdata;


  int stairlock;
  int prevsec;
  int nextsec;


  int heightsec;

  int bottommap, midmap, topmap;



  struct msecnode_s *touching_thinglist;

  int linecount;
  struct line_s **lines;
# 146 "c:/devl/prboom3ds/src/r_defs.h"
  int sky;


  fixed_t floor_xoffs, floor_yoffs;
  fixed_t ceiling_xoffs, ceiling_yoffs;


  int floorlightsec, ceilinglightsec;

  short floorpic;
  short ceilingpic;
  short lightlevel;
  short special;
  short oldspecial;
  short tag;



} sector_t;




typedef enum
{
  ST_HORIZONTAL,
  ST_VERTICAL,
  ST_POSITIVE,
  ST_NEGATIVE
} slopetype_t;

typedef struct line_s
{
  int iLineID;
  vertex_t *v1, *v2;
  fixed_t dx, dy;
  unsigned short flags;
  short special;
  short tag;
  unsigned short sidenum[2];
  fixed_t bbox[4];
  slopetype_t slopetype;
  sector_t *frontsector;
  sector_t *backsector;
  int validcount;
  void *specialdata;
  int tranlump;
  int firsttag,nexttag;
  int r_validcount;
  enum {
    RF_TOP_TILE = 1,
    RF_MID_TILE = 2,
    RF_BOT_TILE = 4,
    RF_IGNORE = 8,
    RF_CLOSED =16,
  } r_flags;
  degenmobj_t soundorg;
} line_t;
# 222 "c:/devl/prboom3ds/src/r_defs.h"
typedef struct msecnode_s
{
  sector_t *m_sector;
  struct mobj_s *m_thing;
  struct msecnode_s *m_tprev;
  struct msecnode_s *m_tnext;
  struct msecnode_s *m_sprev;
  struct msecnode_s *m_snext;
  boolean visited;
} msecnode_t;




typedef struct
{
  vertex_t *v1, *v2;
  fixed_t offset;
  angle_t angle;
  struct side_s* sidedef;
  line_t* linedef;

  int iSegID;

  float length;
  boolean miniseg;







  sector_t *frontsector, *backsector;
} seg_t;





typedef struct side_s
{
 fixed_t textureoffset;
 fixed_t rowoffset;
 short toptexture;
 short bottomtexture;
 short midtexture;
 sector_t* sector;





 int special;

 seg_t sideSeg;


} side_t;
# 291 "c:/devl/prboom3ds/src/r_defs.h"
typedef struct subsector_s
{
  sector_t *sector;
  int numlines, firstline;
} subsector_t;





typedef struct
{
  fixed_t x, y, dx, dy;
  fixed_t bbox[2][4];
  unsigned int children[2];
} node_t;
# 318 "c:/devl/prboom3ds/src/r_defs.h"
typedef byte lighttable_t;





typedef struct drawseg_s
{
  seg_t *curline;
  int x1, x2;
  fixed_t scale1, scale2, scalestep;
  int silhouette;
  fixed_t bsilheight;
  fixed_t tsilheight;


  fixed_t rw_offset, rw_distance, rw_centerangle;




  int *sprtopclip, *sprbottomclip, *maskedtexturecol;
} drawseg_t;


typedef struct
{
  int width,height;
  int leftoffset,topoffset;
  int lumpnum;
} patchnum_t;






typedef struct vissprite_s
{
  mobj_t *thing;
  boolean flip;
  int x1, x2;
  fixed_t gx, gy;
  fixed_t gz, gzt;
  fixed_t startfrac;
  fixed_t scale;
  fixed_t xiscale;
  fixed_t texturemid;
  int patch;
  uint_64_t mobjflags;


  const lighttable_t *colormap;


  int heightsec;

  boolean isplayersprite;
} vissprite_t;
# 394 "c:/devl/prboom3ds/src/r_defs.h"
typedef struct
{



  boolean rotate;


  short lump[8];


  byte flip[8];

} spriteframe_t;






typedef struct
{
  int numframes;
  spriteframe_t *spriteframes;
} spritedef_t;







typedef struct visplane
{
  struct visplane *next;
  int picnum, lightlevel, minx, maxx;
  fixed_t height;
  fixed_t xoffs, yoffs;
  unsigned int pad1;
  unsigned int top[400];
  unsigned int pad2, pad3;
  unsigned int bottom[400];
  unsigned int pad4;
} visplane_t;
# 40 "c:/devl/prboom3ds/src/r_data.h" 2
# 1 "c:/devl/prboom3ds/src/r_state.h" 1
# 40 "c:/devl/prboom3ds/src/r_state.h"
# 1 "c:/devl/prboom3ds/src/r_data.h" 1
# 41 "c:/devl/prboom3ds/src/r_state.h" 2
# 53 "c:/devl/prboom3ds/src/r_state.h"
extern fixed_t *textureheight;

extern int scaledviewwidth;

extern int firstflat, numflats;


extern int *flattranslation;
extern int *texturetranslation;


extern int firstspritelump;
extern int lastspritelump;
extern int numspritelumps;




extern int numsprites;
extern spritedef_t *sprites;

extern int numvertexes;
extern vertex_t *vertexes;

extern int numsegs;
extern seg_t *segs;

extern int numsectors;
extern sector_t *sectors;

extern int numsubsectors;
extern subsector_t *subsectors;

extern int numnodes;
extern node_t *nodes;

extern int numlines;
extern line_t *lines;

extern int numsides;
extern side_t *sides;





extern fixed_t viewx;
extern fixed_t viewy;
extern fixed_t viewz;
extern angle_t viewangle;
extern player_t *viewplayer;
extern angle_t clipangle;
extern int viewangletox[8192/2];
extern angle_t xtoviewangle[400 +1];
extern fixed_t rw_distance;
extern angle_t rw_normalangle;


extern int rw_angle1;

extern visplane_t *floorplane;
extern visplane_t *ceilingplane;
# 41 "c:/devl/prboom3ds/src/r_data.h" 2
# 1 "c:/devl/prboom3ds/src/r_patch.h" 1
# 36 "c:/devl/prboom3ds/src/r_patch.h"
typedef enum {
  RDRAW_EDGESLOPE_TOP_UP = (1<<0),
  RDRAW_EDGESLOPE_TOP_DOWN = (1<<1),
  RDRAW_EDGESLOPE_BOT_UP = (1<<2),
  RDRAW_EDGESLOPE_BOT_DOWN = (1<<3),
  RDRAW_EDGESLOPE_TOP_MASK = 0x3,
  RDRAW_EDGESLOPE_BOT_MASK = 0xc,
} edgeslope_t;

typedef struct {
  int topdelta;
  int length;
  edgeslope_t slope;
} rpost_t;

typedef struct {
  int numPosts;
  rpost_t *posts;
  unsigned char *pixels;
} rcolumn_t;

typedef struct {
  int width;
  int height;
  unsigned widthmask;

  unsigned char isNotTileable;

  int leftoffset;
  int topoffset;



  unsigned char *data;


  unsigned char *pixels;
  rcolumn_t *columns;
  rpost_t *posts;




  unsigned int locks;
} rpatch_t;


const rpatch_t *R_CachePatchNum(int id);
void R_UnlockPatchNum(int id);



const rpatch_t *R_CacheTextureCompositePatchNum(int id);
void R_UnlockTextureCompositePatchNum(int id);



int R_NumPatchWidth(int lump) ;
int R_NumPatchHeight(int lump);




const rcolumn_t *R_GetPatchColumnWrapped(const rpatch_t *patch, int columnIndex);
const rcolumn_t *R_GetPatchColumnClamped(const rpatch_t *patch, int columnIndex);




const rcolumn_t *R_GetPatchColumn(const rpatch_t *patch, int columnIndex);


void R_InitPatches();
void R_FlushAllPatches();
# 42 "c:/devl/prboom3ds/src/r_data.h" 2







typedef struct
{
  int originx, originy;
  int patch;
} texpatch_t;







typedef struct
{
  char name[8];
  int next, index;

  unsigned widthmask;

  short width, height;
  short patchcount;
  texpatch_t patches[1];
} texture_t;

extern int numtextures;
extern texture_t **textures;


const byte *R_GetTextureColumn(const rpatch_t *texpatch, int col);



void R_InitData (void);
void R_PrecacheLevel (void);





int R_FlatNumForName (const char* name);






int __attribute__((pure)) R_TextureNumForName (const char *name);
int __attribute__((pure)) R_SafeTextureNumForName (const char *name, int snum);
int __attribute__((pure)) R_CheckTextureNumForName (const char *name);

void R_InitTranMap(int);
int R_ColormapNumForName(const char *name);

const lighttable_t* R_ColourMap(int lightlevel, fixed_t spryscale);

extern const byte *main_tranmap, *tranmap;


void R_SetPatchNum(patchnum_t *patchnum, const char *name);
# 39 "c:/devl/prboom3ds/src/r_main.h" 2
# 48 "c:/devl/prboom3ds/src/r_main.h"
extern fixed_t viewcos;
extern fixed_t viewsin;
extern int viewwidth;
extern int viewheight;
extern int viewwindowx;
extern int viewwindowy;
extern int centerx;
extern int centery;
extern fixed_t centerxfrac;
extern fixed_t centeryfrac;
extern fixed_t viewheightfrac;
extern fixed_t projection;

extern fixed_t projectiony;
extern int validcount;





extern int rendered_visplanes, rendered_segs, rendered_vissprites;
extern boolean rendering_stats;
# 87 "c:/devl/prboom3ds/src/r_main.h"
extern const lighttable_t *(*zlight)[128];
extern const lighttable_t *fullcolormap;
extern int numcolormaps;
extern const lighttable_t **colormaps;


extern int extralight;
extern const lighttable_t *fixedcolormap;
# 105 "c:/devl/prboom3ds/src/r_main.h"
__attribute__((pure)) int R_PointOnSide(fixed_t x, fixed_t y, const node_t *node);
__attribute__((pure)) int R_PointOnSegSide(fixed_t x, fixed_t y, const seg_t *line);
angle_t R_PointToAngle(fixed_t x, fixed_t y);
angle_t R_PointToAngle2(fixed_t x1, fixed_t y1, fixed_t x2, fixed_t y2);
subsector_t *R_PointInSubsector(fixed_t x, fixed_t y);





void R_RenderPlayerView(player_t *player);
void R_Init(void);
void R_SetViewSize(int blocks);
void R_ExecuteSetViewSize(void);
# 43 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/r_things.h" 1
# 41 "c:/devl/prboom3ds/src/r_things.h"
# 1 "c:/devl/prboom3ds/src/r_draw.h" 1
# 43 "c:/devl/prboom3ds/src/r_draw.h"
enum column_pipeline_e {
  RDC_PIPELINE_STANDARD,
  RDC_PIPELINE_TRANSLUCENT,
  RDC_PIPELINE_TRANSLATED,
  RDC_PIPELINE_FUZZ,
  RDC_PIPELINE_MAXPIPELINES,
  RDC_PIPELINE_MAXPIPELINES2 = 0xffffffff
};


enum draw_filter_type_e {
  RDRAW_FILTER_NONE,
  RDRAW_FILTER_POINT,
  RDRAW_FILTER_LINEAR,
  RDRAW_FILTER_ROUNDED,
  RDRAW_FILTER_MAXFILTERS,
  RDRAW_FILTER_MAXFILTERS2 = 0xffffffff
};




enum sloped_edge_type_e {
  RDRAW_MASKEDCOLUMNEDGE_SQUARE,
  RDRAW_MASKEDCOLUMNEDGE_SLOPED,
  RDRAW_MASKEDCOLUMNEDGE_MAX = 0xffffffff
};


typedef struct {
  int x;
  int yl;
  int yh;
  fixed_t z;
  fixed_t iscale;
  fixed_t texturemid;
  int texheight;
  fixed_t texu;
  const byte *source;
  const byte *prevsource;
  const byte *nextsource;
  const lighttable_t *colormap;
  const lighttable_t *nextcolormap;
  const byte *translation;
  int edgeslope;

  int drawingmasked;
  enum sloped_edge_type_e edgetype;
} draw_column_vars_t;

void R_SetDefaultDrawColumnVars(draw_column_vars_t *dcvars);

void R_VideoErase(int x, int y, int count);

typedef struct {
  int y;
  int x1;
  int x2;
  fixed_t z;
  fixed_t xfrac;
  fixed_t yfrac;
  fixed_t xstep;
  fixed_t ystep;
  const byte *source;
  const lighttable_t *colormap;
  const lighttable_t *nextcolormap;
} draw_span_vars_t;

typedef struct {
  byte *byte_topleft;
  unsigned short *short_topleft;
  unsigned int *int_topleft;
  int byte_pitch;
  int short_pitch;
  int int_pitch;

  enum draw_filter_type_e filterwall;
  enum draw_filter_type_e filterfloor;
  enum draw_filter_type_e filtersprite;
  enum draw_filter_type_e filterz;
  enum draw_filter_type_e filterpatch;

  enum sloped_edge_type_e sprite_edges;
  enum sloped_edge_type_e patch_edges;




  fixed_t mag_threshold;
} draw_vars_t;

extern draw_vars_t drawvars;

extern byte playernumtotrans[4];
extern byte *translationtables;

typedef void (*R_DrawColumn_f)(draw_column_vars_t *dcvars);
R_DrawColumn_f R_GetDrawColumnFunc(enum column_pipeline_e type,
                                   enum draw_filter_type_e filter,
                                   enum draw_filter_type_e filterz);


typedef void (*R_DrawSpan_f)(draw_span_vars_t *dsvars);
R_DrawSpan_f R_GetDrawSpanFunc(enum draw_filter_type_e filter,
                               enum draw_filter_type_e filterz);
void R_DrawSpan(draw_span_vars_t *dsvars);

void R_InitBuffer(int width, int height);


void R_InitTranslationTables(void);


void R_FillBackScreen(void);


void R_DrawViewBorder(void);




void R_ResetColumnBuffer(void);
# 42 "c:/devl/prboom3ds/src/r_things.h" 2



extern int negonearray[400];
extern int screenheightarray[400];



extern int *mfloorclip;
extern int *mceilingclip;
extern fixed_t spryscale;
extern fixed_t sprtopscreen;
extern fixed_t pspritescale;
extern fixed_t pspriteiscale;

extern fixed_t pspriteyscale;

void R_DrawMaskedColumn(const rpatch_t *patch,
                        R_DrawColumn_f colfunc,
                        draw_column_vars_t *dcvars,
                        const rcolumn_t *column,
                        const rcolumn_t *prevcolumn,
                        const rcolumn_t *nextcolumn);
void R_SortVisSprites(void);
void R_AddSprites(subsector_t* subsec, int lightlevel);
void R_DrawPlayerSprites(void);
void R_InitSprites(const char * const * namelist);
void R_ClearSprites(void);
void R_DrawMasked(void);
# 44 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/p_maputl.h" 1
# 50 "c:/devl/prboom3ds/src/p_maputl.h"
typedef struct {
  fixed_t x;
  fixed_t y;
  fixed_t dx;
  fixed_t dy;
} divline_t;

typedef struct {
  fixed_t frac;
  boolean isaline;
  union {
    mobj_t* thing;
    line_t* line;
  } d;
} intercept_t;

typedef boolean (*traverser_t)(intercept_t *in);

fixed_t __attribute__((const)) P_AproxDistance (fixed_t dx, fixed_t dy);
int __attribute__((pure)) P_PointOnLineSide (fixed_t x, fixed_t y, const line_t *line);
int __attribute__((pure)) P_BoxOnLineSide (const fixed_t *tmbox, const line_t *ld);
fixed_t __attribute__((pure)) P_InterceptVector (const divline_t *v2, const divline_t *v1);

fixed_t __attribute__((pure)) P_InterceptVector2(const divline_t *v2, const divline_t *v1);

void P_LineOpening (const line_t *linedef);
void P_UnsetThingPosition(mobj_t *thing);
void P_SetThingPosition(mobj_t *thing);
boolean P_BlockLinesIterator (int x, int y, boolean func(line_t *));
boolean P_BlockThingsIterator(int x, int y, boolean func(mobj_t *));
boolean P_PathTraverse(fixed_t x1, fixed_t y1, fixed_t x2, fixed_t y2,
                       int flags, boolean trav(intercept_t *));

extern fixed_t opentop;
extern fixed_t openbottom;
extern fixed_t openrange;
extern fixed_t lowfloor;
extern divline_t trace;
# 45 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/p_map.h" 1
# 49 "c:/devl/prboom3ds/src/p_map.h"
boolean P_TryMove(mobj_t *thing, fixed_t x, fixed_t y, boolean dropoff);


boolean P_TeleportMove(mobj_t *thing, fixed_t x, fixed_t y,boolean boss);
void P_SlideMove(mobj_t *mo);
boolean P_CheckSight(mobj_t *t1, mobj_t *t2);
void P_UseLines(player_t *player);


fixed_t P_AimLineAttack(mobj_t *t1,angle_t angle,fixed_t distance, uint_64_t mask);

void P_LineAttack(mobj_t *t1, angle_t angle, fixed_t distance,
                     fixed_t slope, int damage );
void P_RadiusAttack(mobj_t *spot, mobj_t *source, int damage);
boolean P_CheckPosition(mobj_t *thing, fixed_t x, fixed_t y);


boolean P_ChangeSector(sector_t* sector,boolean crunch);
boolean P_CheckSector(sector_t *sector, boolean crunch);
void P_DelSeclist(msecnode_t*);
void P_CreateSecNodeList(mobj_t*,fixed_t,fixed_t);
boolean Check_Sides(mobj_t *, int, int);

int P_GetMoveFactor(mobj_t *mo, int *friction);
int P_GetFriction(const mobj_t *mo, int *factor);
void P_ApplyTorque(mobj_t *mo);


void P_MapStart(void);
void P_MapEnd(void);


extern boolean floatok;
extern boolean felldown;
extern fixed_t tmfloorz;
extern fixed_t tmceilingz;
extern line_t *ceilingline;
extern line_t *floorline;
extern mobj_t *linetarget;
extern msecnode_t *sector_list;
extern fixed_t tmbbox[4];
extern line_t *blockline;
# 46 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/p_setup.h" 1
# 43 "c:/devl/prboom3ds/src/p_setup.h"
void P_SetupLevel(int episode, int map, int playermask, skill_t skill);
void P_Init(void);

extern const byte *rejectmatrix;


extern long *blockmaplump;
extern long *blockmap;
extern int bmapwidth;
extern int bmapheight;
extern fixed_t bmaporgx;
extern fixed_t bmaporgy;
extern mobj_t **blocklinks;
# 47 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/p_spec.h" 1
# 198 "c:/devl/prboom3ds/src/p_spec.h"
typedef enum
{
  WalkOnce,
  WalkMany,
  SwitchOnce,
  SwitchMany,
  GunOnce,
  GunMany,
  PushOnce,
  PushMany,
} triggertype_e;



typedef enum
{
  SpeedSlow,
  SpeedNormal,
  SpeedFast,
  SpeedTurbo,
} motionspeed_e;



typedef enum
{
  FtoHnF,
  FtoLnF,
  FtoNnF,
  FtoLnC,
  FtoC,
  FbyST,
  Fby24,
  Fby32,
} floortarget_e;



typedef enum
{
  FNoChg,
  FChgZero,
  FChgTxt,
  FChgTyp,
} floorchange_e;



typedef enum
{
  FTriggerModel,
  FNumericModel,
} floormodel_t;



typedef enum
{
  CtoHnC,
  CtoLnC,
  CtoNnC,
  CtoHnF,
  CtoF,
  CbyST,
  Cby24,
  Cby32,
} ceilingtarget_e;



typedef enum
{
  CNoChg,
  CChgZero,
  CChgTxt,
  CChgTyp,
} ceilingchange_e;



typedef enum
{
  CTriggerModel,
  CNumericModel,
} ceilingmodel_t;



typedef enum
{
  F2LnF,
  F2NnF,
  F2LnC,
  LnF2HnF,
} lifttarget_e;



typedef enum
{
  OdCDoor,
  ODoor,
  CdODoor,
  CDoor,
} doorkind_e;



typedef enum
{
  AnyKey,
  RCard,
  BCard,
  YCard,
  RSkull,
  BSkull,
  YSkull,
  AllKeys,
} keykind_e;
# 326 "c:/devl/prboom3ds/src/p_spec.h"
typedef enum
{
  floor_special,
  ceiling_special,
  lighting_special,
} special_e;


typedef enum
{
  trigChangeOnly,
  numChangeOnly,
} change_e;



typedef enum
{
  up,
  down,
  waiting,
  in_stasis
} plat_e;

typedef enum
{
  perpetualRaise,
  downWaitUpStay,
  raiseAndChange,
  raiseToNearestAndChange,
  blazeDWUS,
  genLift,
  genPerpetual,
  toggleUpDn,

} plattype_e;



typedef enum
{
  normal,
  close30ThenOpen,
  close,
  open,
  raiseIn5Mins,
  blazeRaise,
  blazeOpen,
  blazeClose,


  genRaise,
  genBlazeRaise,
  genOpen,
  genBlazeOpen,
  genClose,
  genBlazeClose,
  genCdO,
  genBlazeCdO,
} vldoor_e;



typedef enum
{
  lowerToFloor,
  raiseToHighest,
  lowerToLowest,
  lowerToMaxFloor,
  lowerAndCrush,
  crushAndRaise,
  fastCrushAndRaise,
  silentCrushAndRaise,


  genCeiling,
  genCeilingChg,
  genCeilingChg0,
  genCeilingChgT,


  genCrusher,
  genSilentCrusher,

} ceiling_e;



typedef enum
{

  lowerFloor,


  lowerFloorToLowest,


  turboLower,


  raiseFloor,


  raiseFloorToNearest,


  lowerFloorToNearest,


  lowerFloor24,


  lowerFloor32Turbo,


  raiseToTexture,



  lowerAndChange,

  raiseFloor24,


  raiseFloor32Turbo,

  raiseFloor24AndChange,
  raiseFloorCrush,


  raiseFloorTurbo,
  donutRaise,
  raiseFloor512,


  genFloor,
  genFloorChg,
  genFloorChg0,
  genFloorChgT,


  buildStair,
  genBuildStair,
} floor_e;

typedef enum
{
  build8,
  turbo16

} stair_e;

typedef enum
{
  elevateUp,
  elevateDown,
  elevateCurrent,
} elevator_e;
# 492 "c:/devl/prboom3ds/src/p_spec.h"
typedef enum
{
    top,
    middle,
    bottom

} bwhere_e;


typedef enum
{
  ok,
  crushed,
  pastdest
} result_e;
# 522 "c:/devl/prboom3ds/src/p_spec.h"
typedef struct
{
  char name1[9];
  char name2[9];
  short episode;
} __attribute__((packed)) switchlist_t;





typedef struct
{
  line_t* line;
  bwhere_e where;
  int btexture;
  int btimer;
  mobj_t* soundorg;

} button_t;



typedef struct
{
  thinker_t thinker;
  sector_t* sector;
  int count;
  int maxlight;
  int minlight;

} fireflicker_t;

typedef struct
{
  thinker_t thinker;
  sector_t* sector;
  int count;
  int maxlight;
  int minlight;
  int maxtime;
  int mintime;

} lightflash_t;

typedef struct
{
  thinker_t thinker;
  sector_t* sector;
  int count;
  int minlight;
  int maxlight;
  int darktime;
  int brighttime;

} strobe_t;

typedef struct
{
  thinker_t thinker;
  sector_t* sector;
  int minlight;
  int maxlight;
  int direction;

} glow_t;



typedef struct
{
  thinker_t thinker;
  sector_t* sector;
  fixed_t speed;
  fixed_t low;
  fixed_t high;
  int wait;
  int count;
  plat_e status;
  plat_e oldstatus;
  boolean crush;
  int tag;
  plattype_e type;

  struct platlist *list;
} plat_t;



typedef struct platlist {
  plat_t *plat;
  struct platlist *next,**prev;
} platlist_t;



typedef struct
{
  thinker_t thinker;
  vldoor_e type;
  sector_t* sector;
  fixed_t topheight;
  fixed_t speed;


  int direction;


  int topwait;


  int topcountdown;


  line_t *line;


  int lighttag;
} vldoor_t;



typedef struct
{
  thinker_t thinker;
  ceiling_e type;
  sector_t* sector;
  fixed_t bottomheight;
  fixed_t topheight;
  fixed_t speed;
  fixed_t oldspeed;
  boolean crush;


  int newspecial;
  int oldspecial;
  short texture;


  int direction;


  int tag;
  int olddirection;
  struct ceilinglist *list;
} ceiling_t;

typedef struct ceilinglist {
  ceiling_t *ceiling;
  struct ceilinglist *next,**prev;
} ceilinglist_t;



typedef struct
{
  thinker_t thinker;
  floor_e type;
  boolean crush;
  sector_t* sector;
  int direction;
  int newspecial;
  int oldspecial;
  short texture;
  fixed_t floordestheight;
  fixed_t speed;

} floormove_t;

typedef struct
{
  thinker_t thinker;
  elevator_e type;
  sector_t* sector;
  int direction;
  fixed_t floordestheight;
  fixed_t ceilingdestheight;
  fixed_t speed;
} elevator_t;





typedef struct {
  thinker_t thinker;
  fixed_t dx, dy;
  int affectee;
  int control;
  fixed_t last_height;
  fixed_t vdx, vdy;
  int accel;
  enum
  {
    sc_side,
    sc_floor,
    sc_ceiling,
    sc_carry,
    sc_carry_ceiling,
  } type;
} scroll_t;



typedef struct {
  thinker_t thinker;
  int friction;
  int movefactor;
  int affectee;
} friction_t;



typedef struct {
  thinker_t thinker;
  enum
  {
    p_push,
    p_pull,
    p_wind,
    p_current,
  } type;
  mobj_t* source;
  int x_mag;
  int y_mag;
  int magnitude;
  int radius;
  int x;
  int y;
  int affectee;
} pusher_t;
# 761 "c:/devl/prboom3ds/src/p_spec.h"
extern button_t buttonlist[(4*4)];

extern platlist_t *activeplats;

extern ceilinglist_t *activeceilings;







int twoSided
( int sector,
  int line );

sector_t* getSector
( int currentSector,
  int line,
  int side );

side_t* getSide
( int currentSector,
  int line,
  int side );

fixed_t P_FindLowestFloorSurrounding
( sector_t* sec );

fixed_t P_FindHighestFloorSurrounding
( sector_t* sec );

fixed_t P_FindNextHighestFloor
( sector_t* sec,
  int currentheight );

fixed_t P_FindNextLowestFloor
( sector_t* sec,
  int currentheight );

fixed_t P_FindLowestCeilingSurrounding
( sector_t* sec );

fixed_t P_FindHighestCeilingSurrounding
( sector_t* sec );

fixed_t P_FindNextLowestCeiling
( sector_t *sec,
  int currentheight );

fixed_t P_FindNextHighestCeiling
( sector_t *sec,
  int currentheight );

fixed_t P_FindShortestTextureAround
( int secnum );

fixed_t P_FindShortestUpperAround
( int secnum );

sector_t* P_FindModelFloorSector
( fixed_t floordestheight,
  int secnum );

sector_t* P_FindModelCeilingSector
( fixed_t ceildestheight,
  int secnum );

int P_FindSectorFromLineTag
( const line_t *line,
  int start );

int P_FindLineFromLineTag
( const line_t *line,
  int start );

int P_FindMinSurroundingLight
( sector_t* sector,
  int max );

sector_t* getNextSector
( line_t* line,
  sector_t* sec );

int P_CheckTag
(line_t *line);

boolean P_CanUnlockGenDoor
( line_t* line,
  player_t* player);

boolean __attribute__((pure)) P_SectorActive
( special_e t,
  const sector_t* s );

boolean __attribute__((pure)) P_IsSecret
( const sector_t *sec );

boolean __attribute__((pure)) P_WasSecret
( const sector_t *sec );

void P_ChangeSwitchTexture
( line_t* line,
  int useAgain );
# 874 "c:/devl/prboom3ds/src/p_spec.h"
void T_LightFlash
( lightflash_t* flash );

void T_StrobeFlash
( strobe_t* flash );


void T_FireFlicker
( fireflicker_t* flick );

void T_Glow
( glow_t* g );



void T_PlatRaise
( plat_t* plat );



void T_VerticalDoor
( vldoor_t* door );



void T_MoveCeiling
( ceiling_t* ceiling );



result_e T_MovePlane
( sector_t* sector,
  fixed_t speed,
  fixed_t dest,
  boolean crush,
  int floorOrCeiling,
  int direction );

void T_MoveFloor
( floormove_t* floor );

void T_MoveElevator
( elevator_t* elevator );



void T_Scroll
( scroll_t * );

void T_Friction
( friction_t * );

void T_Pusher
( pusher_t * );
# 937 "c:/devl/prboom3ds/src/p_spec.h"
int EV_Teleport
( line_t* line,
  int side,
  mobj_t* thing );


int EV_SilentTeleport
( line_t* line,
  int side,
  mobj_t* thing );


int EV_SilentLineTeleport
( line_t* line,
  int side,
  mobj_t* thing,
  boolean reverse);



int
EV_DoElevator
( line_t* line,
  elevator_e type );

int EV_BuildStairs
( line_t* line,
  stair_e type );

int EV_DoFloor
( line_t* line,
  floor_e floortype );



int EV_DoCeiling
( line_t* line,
  ceiling_e type );

int EV_CeilingCrushStop
( line_t* line );



int EV_VerticalDoor
( line_t* line,
  mobj_t* thing );

int EV_DoDoor
( line_t* line,
  vldoor_e type );

int EV_DoLockedDoor
( line_t* line,
  vldoor_e type,
  mobj_t* thing );



int EV_StartLightStrobing
( line_t* line );

int EV_TurnTagLightsOff
( line_t* line );

int EV_LightTurnOn
( line_t* line,
  int bright );

int EV_LightTurnOnPartway(line_t* line, fixed_t level);



int EV_DoChange
( line_t* line,
  change_e changetype );

int EV_DoDonut
( line_t* line );



int EV_DoPlat
( line_t* line,
  plattype_e type,
  int amount );

int EV_StopPlat
( line_t* line );



int EV_DoGenFloor
( line_t* line );

int EV_DoGenCeiling
( line_t* line );

int EV_DoGenLift
( line_t* line );

int EV_DoGenStairs
( line_t* line );

int EV_DoGenCrusher
( line_t* line );

int EV_DoGenDoor
( line_t* line );

int EV_DoGenLockedDoor
( line_t* line );
# 1057 "c:/devl/prboom3ds/src/p_spec.h"
void P_InitPicAnims
( void );

void P_InitSwitchList
( void );


void P_SpawnSpecials
( void );


void P_UpdateSpecials
( void );


boolean P_UseSpecialLine
( mobj_t* thing,
  line_t* line,
  int side );

void P_ShootSpecialLine
( mobj_t* thing,
  line_t* line );

void P_CrossSpecialLine(line_t *line, int side, mobj_t *thing);

void P_PlayerInSpecialSector
( player_t* player );



void P_SpawnFireFlicker
( sector_t* sector );

void P_SpawnLightFlash
( sector_t* sector );

void P_SpawnStrobeFlash
( sector_t* sector,
  int fastOrSlow,
  int inSync );

void P_SpawnGlowingLight
( sector_t* sector );



void P_AddActivePlat
( plat_t* plat );

void P_RemoveActivePlat
( plat_t* plat );

void P_RemoveAllActivePlats
( void );

void P_ActivateInStasis
( int tag );



void P_SpawnDoorCloseIn30
( sector_t* sec );

void P_SpawnDoorRaiseIn5Mins
( sector_t* sec,
  int secnum );



void P_RemoveActiveCeiling
( ceiling_t* ceiling );

void P_RemoveAllActiveCeilings
( void );

void P_AddActiveCeiling
( ceiling_t* c );

int P_ActivateInStasisCeiling
( line_t* line );

mobj_t* P_GetPushThing(int);
# 48 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/p_tick.h" 1
# 45 "c:/devl/prboom3ds/src/p_tick.h"
void P_Ticker(void);

void P_InitThinkers(void);
void P_AddThinker(thinker_t *thinker);
void P_RemoveThinker(thinker_t *thinker);
void P_RemoveThinkerDelayed(thinker_t *thinker);

void P_UpdateThinker(thinker_t *thinker);

void P_SetTarget(mobj_t **mo, mobj_t *target);





typedef enum {
  th_delete,
  th_misc,
  th_friends,
  th_enemies,
  NUMTHCLASS,
  th_all = NUMTHCLASS,
} th_class;

extern thinker_t thinkerclasscap[];



thinker_t* P_NextThinker(thinker_t*,th_class);
# 49 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/p_enemy.h" 1
# 41 "c:/devl/prboom3ds/src/p_enemy.h"
void P_NoiseAlert (mobj_t *target, mobj_t *emmiter);
void P_SpawnBrainTargets(void);

extern struct brain_s {
  int easy, targeton;
} brain;
# 56 "c:/devl/prboom3ds/src/p_enemy.h"
void A_Explode();
void A_Pain();
void A_PlayerScream();
void A_Fall();
void A_XScream();
void A_Look();
void A_Chase();
void A_FaceTarget();
void A_PosAttack();
void A_Scream();
void A_SPosAttack();
void A_VileChase();
void A_VileStart();
void A_VileTarget();
void A_VileAttack();
void A_StartFire();
void A_Fire();
void A_FireCrackle();
void A_Tracer();
void A_SkelWhoosh();
void A_SkelFist();
void A_SkelMissile();
void A_FatRaise();
void A_FatAttack1();
void A_FatAttack2();
void A_FatAttack3();
void A_BossDeath();
void A_CPosAttack();
void A_CPosRefire();
void A_TroopAttack();
void A_SargAttack();
void A_HeadAttack();
void A_BruisAttack();
void A_SkullAttack();
void A_Metal();
void A_SpidRefire();
void A_BabyMetal();
void A_BspiAttack();
void A_Hoof();
void A_CyberAttack();
void A_PainAttack();
void A_PainDie();
void A_KeenDie();
void A_BrainPain();
void A_BrainScream();
void A_BrainDie();
void A_BrainAwake();
void A_BrainSpit();
void A_SpawnSound();
void A_SpawnFly();
void A_BrainExplode();
void A_Die();
void A_Detonate();
void A_Mushroom();
void A_Spawn();
void A_Turn();
void A_Face();
void A_Scratch();
void A_PlaySound();
void A_RandomJump();
void A_LineEffect();
# 50 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/s_sound.h" 1
# 46 "c:/devl/prboom3ds/src/s_sound.h"
void S_Init(int sfxVolume, int musicVolume);


void S_Stop(void);






void S_Start(void);





void S_StartSound(void *origin, int sound_id);


void S_StartSoundAtVolume(void *origin, int sound_id, int volume);





void S_StopSound(void* origin);


void S_StartMusic(int music_id);


void S_ChangeMusic(int music_id, int looping);


void S_StopMusic(void);


void S_PauseSound(void);
void S_ResumeSound(void);




void S_UpdateSounds(void* listener);
void S_SetMusicVolume(int volume);
void S_SetSfxVolume(int volume);


extern int default_numChannels;
extern int numChannels;


extern int idmusnum;
# 51 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/lprintf.h" 1
# 37 "c:/devl/prboom3ds/src/lprintf.h"
# 1 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stdarg.h" 1 3 4
# 98 "c:\\devkitpro\\devkitarm\\lib\\gcc\\arm-none-eabi\\4.9.2\\include\\stdarg.h" 3 4
typedef __gnuc_va_list va_list;
# 38 "c:/devl/prboom3ds/src/lprintf.h" 2

typedef enum
{
  LO_INFO=1,
  LO_CONFIRM=2,
  LO_WARN=4,
  LO_ERROR=8,
  LO_FATAL=16,
  LO_DEBUG=32,
  LO_ALWAYS=64,
} OutputLevels;





extern int lprintf(OutputLevels pri, const char *fmt, ...) __attribute__((format(printf,2,3)));
extern int cons_output_mask;
extern int cons_error_mask;




void I_Error(const char *error, ...) __attribute__((format(printf,1,2)));
# 70 "c:/devl/prboom3ds/src/lprintf.h"
int doom_vsnprintf(char *buf, size_t max, const char *fmt, va_list va);
int doom_snprintf(char *buf, size_t max, const char *fmt, ...) __attribute__((format(printf,3,4)));
# 52 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/v_video.h" 1
# 55 "c:/devl/prboom3ds/src/v_video.h"
extern const byte *colrngs[];


typedef enum
{
  CR_BRICK,
  CR_TAN,
  CR_GRAY,
  CR_GREEN,
  CR_BROWN,
  CR_GOLD,
  CR_RED,
  CR_BLUE,
  CR_ORANGE,
  CR_YELLOW,
  CR_BLUE2,
  CR_LIMIT
} crange_idx_e;




typedef struct {
  byte *data;
  boolean not_on_heap;

  int width;
  int height;
  int byte_pitch;
  int short_pitch;
  int int_pitch;
} screeninfo_t;


extern screeninfo_t screens[6];
extern int usegamma;
# 105 "c:/devl/prboom3ds/src/v_video.h"
extern unsigned short *V_Palette15;
extern unsigned short *V_Palette16;
extern unsigned int *V_Palette32;






typedef enum {
  VID_MODE8,
  VID_MODE15,
  VID_MODE16,
  VID_MODE32,
  VID_MODEGL,
  VID_MODEMAX
} video_mode_t;

extern const char *default_videomode;

void V_InitMode(video_mode_t mode);


video_mode_t V_GetMode(void);
int V_GetModePixelDepth(video_mode_t mode);
int V_GetNumPixelBits(void);
int V_GetPixelDepth(void);


void V_InitColorTranslation(void);


void V_Init (void);


typedef void (*V_CopyRect_f)(int srcx, int srcy, int srcscrn,
                             int width, int height,
                             int destx, int desty, int destscrn,
                             enum patch_translation_e flags);
extern V_CopyRect_f V_CopyRect;


typedef void (*V_FillRect_f)(int scrn, int x, int y,
                             int width, int height, byte colour);
extern V_FillRect_f V_FillRect;





typedef void (*V_DrawNumPatch_f)(int x, int y, int scrn,
                                 int lump, int cm,
                                 enum patch_translation_e flags);
extern V_DrawNumPatch_f V_DrawNumPatch;
# 172 "c:/devl/prboom3ds/src/v_video.h"
typedef void (*V_DrawBackground_f)(const char* flatname, int scrn);
extern V_DrawBackground_f V_DrawBackground;

void V_DestroyUnusedTrueColorPalettes(void);

void V_SetPalette(int pal);




typedef void (*V_PlotPixel_f)(int,int,int,byte);
extern V_PlotPixel_f V_PlotPixel;

typedef struct
{
  int x, y;
} fpoint_t;

typedef struct
{
  fpoint_t a, b;
} fline_t;


typedef void (*V_DrawLine_f)(fline_t* fl, int color);
extern V_DrawLine_f V_DrawLine;

void V_AllocScreen(screeninfo_t *scrn);
void V_AllocScreens();
void V_FreeScreen(screeninfo_t *scrn);
void V_FreeScreens();
# 53 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/r_demo.h" 1
# 39 "c:/devl/prboom3ds/src/r_demo.h"
extern int demo_smoothturns;
extern int demo_smoothturnsfactor;

void R_SmoothPlaying_Reset(player_t *player);
void R_SmoothPlaying_Add(int delta);
angle_t R_SmoothPlaying_Get(angle_t defangle);
void R_ResetAfterTeleport(player_t *player);
# 54 "c:/devl/prboom3ds/src/p_setup.c" 2
# 1 "c:/devl/prboom3ds/src/r_fps.h" 1
# 40 "c:/devl/prboom3ds/src/r_fps.h"
extern int movement_smooth;

typedef struct {
  fixed_t viewx;
  fixed_t viewy;
  fixed_t viewz;
  angle_t viewangle;
  angle_t viewpitch;
} view_vars_t;

extern view_vars_t original_view_vars;

typedef struct {
  unsigned int start;
  unsigned int next;
  unsigned int step;
  fixed_t frac;
  float msec;
} tic_vars_t;

extern tic_vars_t tic_vars;

void R_InitInterpolation(void);
void R_InterpolateView (player_t *player, fixed_t frac);

extern boolean WasRenderedInTryRunTics;

void R_ResetViewInterpolation ();
void R_UpdateInterpolations();
void R_StopAllInterpolations(void);
void R_DoInterpolations(fixed_t smoothratio);
void R_RestoreInterpolations();
void R_ActivateSectorInterpolations();
void R_ActivateThinkerInterpolations(thinker_t *th);
void R_StopInterpolationIfNeeded(thinker_t *th);
# 55 "c:/devl/prboom3ds/src/p_setup.c" 2






int numvertexes;
vertex_t *vertexes;

int numsegs;
seg_t *segs;

int numsectors;
sector_t *sectors;

int numsubsectors;
subsector_t *subsectors;

int numnodes;
node_t *nodes;

int numlines;
line_t *lines;

int numsides;
side_t *sides;







int firstglvertex = 0;
boolean forceOldBsp = 0;

int nodes_glbsp;
int nodes_zdbsp;


typedef struct
{
  unsigned short v1;
  unsigned short v2;
  unsigned short linedef;
  short side;
  unsigned short partner;
} glseg_t;


typedef struct
{
  fixed_t x,y;
} mapglvertex_t;

enum
{
   ML_GL_LABEL=0,
   ML_GL_VERTS,
   ML_GL_SEGS,
   ML_GL_SSECT,
   ML_GL_NODES
};
# 126 "c:/devl/prboom3ds/src/p_setup.c"
static void *ReadIdentifier(int lumpnum, void *buffer)
{
  const void *lump;

  if (W_LumpLength(lumpnum) >= 4
      && (lump = W_CacheLumpNum(lumpnum)))
  {
    memmove(buffer, lump, 4);
    W_UnlockLumpNum(lumpnum);
    return buffer;
  }
  return ((void *)0);
}


static boolean CheckForGLBSPLumps(int gl_lumpnum)
{
  static const char *names[] = { "GL_VERT", "GL_SEGS", "GL_SSECT", "GL_NODES" };
  int i, e;

  for (i = 0, e = ML_GL_VERTS; e <= ML_GL_NODES; i++, e++)
    if (gl_lumpnum + e >= numlumps
        || strncasecmp(lumpinfo[gl_lumpnum + e].name, names[i], 8))
      return 0;

  return 1;
}


static int GetGLBSPNodesVersion(int gl_lumpnum)
{
  char vert_id[4], seg_id[4];

  if (ReadIdentifier(gl_lumpnum + ML_GL_VERTS, vert_id))
  {
    if (memcmp(vert_id, "gNd5", 4) == 0)
      return 5;
    else if (memcmp(vert_id, "gNd4", 4) == 0)
      return 4;
    else if (memcmp(vert_id, "gNd2", 4) == 0)
    {

      if (ReadIdentifier(gl_lumpnum + ML_GL_SEGS, seg_id))
      {
        if (memcmp(seg_id, "gNd3", 4) == 0)
          return 3;
        else if (memcmp(seg_id, "gNd", 3) == 0)
          return 0;
      }
      return 2;
    }
    else if (memcmp(vert_id, "gNd", 3) == 0)
      return 0;
  }

  return 1;
}






static int GetZDBSPNodesVersion(int lumpnum)
{
  char node_id[4], ssec_id[4];

  if (ReadIdentifier(lumpnum + ML_NODES, node_id))
  {
    if (memcmp(node_id, "XNOD", 4) == 0)
      return 1;
    else if (memcmp(node_id, "ZNOD", 4) == 0)
      return 2;
  }
  if (ReadIdentifier(lumpnum + ML_SSECTORS, ssec_id))
  {
    if (memcmp(ssec_id, "XGLN", 4) == 0)
      return 3;
    else if (memcmp(ssec_id, "ZGLN", 4) == 0)
      return 4;
    else if (memcmp(ssec_id, "XGL2", 4) == 0)
      return 5;
    else if (memcmp(ssec_id, "ZGL2", 4) == 0)
      return 6;
  }
  return 0;
}




static void P_GetNodesVersion(int lumpnum, int gl_lumpnum)
{
  int version;
  int valid_gl = 0, valid_bsp = 0;

  nodes_glbsp = nodes_zdbsp = 0;


  if (gl_lumpnum > lumpnum
      && !forceOldBsp
      && compatibility_level >= prboom_2_compatibility)
  {
    if (!CheckForGLBSPLumps(gl_lumpnum))
      lprintf(LO_WARN,
              "P_GetNodesVersion: missing or invalid GLBSP nodes\n");
    else
    {

      switch (version = GetGLBSPNodesVersion(gl_lumpnum))
      {
      case 1: case 2:

        nodes_glbsp = version;
        valid_gl = 1;
        break;

      case 3: case 4: case 5:

        lprintf(LO_WARN,
                "P_GetNodesVersion: GLBSP v%d nodes not supported\n",
                version);
        break;

      default:
        lprintf(LO_WARN,
                "P_GetNodesVersion: unknown GLBSP nodes version\n");
        break;
      }
    }
  }

  switch (version = GetZDBSPNodesVersion(lumpnum))
  {
  case 2:
    lprintf(LO_WARN,
            "P_GetNodesVersion: ZDBSP ZNOD nodes not supported\n");
    break;

  case 3: case 4: case 5: case 6:
    lprintf(LO_WARN,
            "P_GetNodesVersion: ZDBSP %cGL%c nodes not supported\n",
            ((version % 2 == 1) ? 'X' : 'Z'), ((version >= 5) ? '2' : 'N'));
    break;

  case 0:
  case 1:
    nodes_zdbsp = version;
    valid_bsp = 1;
    break;
  }

  if (!valid_gl && !valid_bsp)
    I_Error("P_GetNodesVersion: cannot find supported nodes");
}
# 294 "c:/devl/prboom3ds/src/p_setup.c"
int bmapwidth, bmapheight;


long *blockmap;


long *blockmaplump;

fixed_t bmaporgx, bmaporgy;

mobj_t **blocklinks;
# 315 "c:/devl/prboom3ds/src/p_setup.c"
static int rejectlump = -1;
const byte *rejectmatrix;




mapthing_t *deathmatchstarts;
size_t num_deathmatchstarts;

mapthing_t *deathmatch_p;
mapthing_t playerstarts[4];






static void P_LoadVertexes (int lump)
{
  const mapvertex_t *data;
  int i;



  numvertexes = W_LumpLength(lump) / sizeof(mapvertex_t);


  vertexes = Z_Malloc(numvertexes*sizeof(vertex_t),PU_LEVEL,0);



  data = (const mapvertex_t *)W_CacheLumpNum(lump);



  for (i=0; i<numvertexes; i++)
    {
      vertexes[i].x = (short int)(data[i].x)<<16;
      vertexes[i].y = (short int)(data[i].y)<<16;
    }


  W_UnlockLumpNum(lump);
}
# 370 "c:/devl/prboom3ds/src/p_setup.c"
static void P_LoadVertexes2(int lump, int gllump)
{
  const byte *gldata;
  int i;
  const mapvertex_t* ml;

  firstglvertex = W_LumpLength(lump) / sizeof(mapvertex_t);
  numvertexes = W_LumpLength(lump) / sizeof(mapvertex_t);

  if (gllump >= 0)
  {
    gldata = W_CacheLumpNum(gllump);

    if (nodes_glbsp == 2)
    {
      const mapglvertex_t* mgl;

      numvertexes += (W_LumpLength(gllump) - 4)/sizeof(mapglvertex_t);
      vertexes = Z_Malloc (numvertexes*sizeof(vertex_t),PU_LEVEL,0);
      mgl = (const mapglvertex_t *) (gldata + 4);

      for (i = firstglvertex; i < numvertexes; i++)
      {
        vertexes[i].x = mgl->x;
        vertexes[i].y = mgl->y;
        mgl++;
      }
    }
    else
    {
      numvertexes += W_LumpLength(gllump)/sizeof(mapvertex_t);
      vertexes = Z_Malloc (numvertexes*sizeof(vertex_t),PU_LEVEL,0);
      ml = (const mapvertex_t *)gldata;

      for (i = firstglvertex; i < numvertexes; i++)
      {
        vertexes[i].x = (short int)(ml->x)<<16;
        vertexes[i].y = (short int)(ml->y)<<16;
        ml++;
      }
    }
    W_UnlockLumpNum(gllump);
  }

  ml = (const mapvertex_t*) W_CacheLumpNum(lump);

  for (i=0; i < firstglvertex; i++)
  {
    vertexes[i].x = (short int)(ml->x)<<16;
    vertexes[i].y = (short int)(ml->y)<<16;
    ml++;
  }
  W_UnlockLumpNum(lump);
}
# 434 "c:/devl/prboom3ds/src/p_setup.c"
static int checkGLVertex(int num)
{
  if (num & 0x8000)
    num = (num&0x7FFF)+firstglvertex;
  return num;
}


static float GetDistance(int dx, int dy)
{
  float fx = (float)(dx)/(1<<16), fy = (float)(dy)/(1<<16);
  return (float)sqrt(fx*fx + fy*fy);
}


static int GetOffset(vertex_t *v1, vertex_t *v2)
{
  float a, b;
  int r;
  a = (float)(v1->x - v2->x) / (float)(1<<16);
  b = (float)(v1->y - v2->y) / (float)(1<<16);
  r = (int)(sqrt(a*a+b*b) * (float)(1<<16));
  return r;
}
# 466 "c:/devl/prboom3ds/src/p_setup.c"
static void P_LoadSegs (int lump)
{
  int i;
  const mapseg_t *data;

  numsegs = W_LumpLength(lump) / sizeof(mapseg_t);
  segs = Z_Calloc(numsegs,sizeof(seg_t),PU_LEVEL,0);
  data = (const mapseg_t *)W_CacheLumpNum(lump);

  if ((!data) || (!numsegs))
    I_Error("P_LoadSegs: no segs in level");

  for (i=0; i<numsegs; i++)
    {
      seg_t *li = segs+i;
      const mapseg_t *ml = data + i;
      unsigned short v1, v2;

      int side, linedef;
      line_t *ldef;

      li->iSegID = i;

      v1 = (unsigned short)(short int)(ml->v1);
      v2 = (unsigned short)(short int)(ml->v2);
      li->v1 = &vertexes[v1];
      li->v2 = &vertexes[v2];

      li->miniseg = 0;
      li->length = GetDistance(li->v2->x - li->v1->x, li->v2->y - li->v1->y);
      li->angle = ((short int)(ml->angle))<<16;
      li->offset =((short int)(ml->offset))<<16;
      linedef = (unsigned short)(short int)(ml->linedef);
      ldef = &lines[linedef];
      li->linedef = ldef;
      side = (short int)(ml->side);
      li->sidedef = &sides[ldef->sidenum[side]];




      if (ldef->sidenum[side] != ((unsigned short)-1))
        li->frontsector = sides[ldef->sidenum[side]].sector;
      else {
        li->frontsector = 0;
        lprintf(LO_WARN, "P_LoadSegs: front of seg %i has no sidedef\n", i);
      }

      if (ldef->flags & 4 && ldef->sidenum[side^1]!=((unsigned short)-1))
        li->backsector = sides[ldef->sidenum[side^1]].sector;
      else
        li->backsector = 0;
    }

  W_UnlockLumpNum(lump);
}
# 532 "c:/devl/prboom3ds/src/p_setup.c"
static void P_LoadGLSegs(int lump)
{
  int i;
  const glseg_t *ml;
  line_t *ldef;

  numsegs = W_LumpLength(lump) / sizeof(glseg_t);
  segs = Z_Malloc(numsegs * sizeof(seg_t), PU_LEVEL, 0);
  memset(segs, 0, numsegs * sizeof(seg_t));
  ml = (const glseg_t*)W_CacheLumpNum(lump);

  if ((!ml) || (!numsegs))
    I_Error("P_LoadGLSegs: no glsegs in level");

  for(i = 0; i < numsegs; i++)
  {
    segs[i].v1 = &vertexes[checkGLVertex((short int)(ml->v1))];
    segs[i].v2 = &vertexes[checkGLVertex((short int)(ml->v2))];
    segs[i].iSegID = i;

    if(ml->linedef != (unsigned short)-1)
    {
      ldef = &lines[ml->linedef];
      segs[i].linedef = ldef;
      segs[i].miniseg = 0;
      segs[i].angle = R_PointToAngle2(segs[i].v1->x,segs[i].v1->y,segs[i].v2->x,segs[i].v2->y);

      segs[i].sidedef = &sides[ldef->sidenum[ml->side]];
      segs[i].length = GetDistance(segs[i].v2->x - segs[i].v1->x, segs[i].v2->y - segs[i].v1->y);
      segs[i].frontsector = sides[ldef->sidenum[ml->side]].sector;
      if (ldef->flags & 4)
        segs[i].backsector = sides[ldef->sidenum[ml->side^1]].sector;
      else
        segs[i].backsector = 0;

      if (ml->side)
        segs[i].offset = GetOffset(segs[i].v1, ldef->v2);
      else
        segs[i].offset = GetOffset(segs[i].v1, ldef->v1);
    }
    else
    {
      segs[i].miniseg = 1;
      segs[i].angle = 0;
      segs[i].offset = 0;
      segs[i].length = 0;
      segs[i].linedef = ((void *)0);
      segs[i].sidedef = ((void *)0);
      segs[i].frontsector = ((void *)0);
      segs[i].backsector = ((void *)0);
    }
    ml++;
  }
  W_UnlockLumpNum(lump);
}






static void P_LoadSubsectors (int lump)
{

  const mapsubsector_t *data;
  int i;

  numsubsectors = W_LumpLength (lump) / sizeof(mapsubsector_t);
  subsectors = Z_Calloc(numsubsectors,sizeof(subsector_t),PU_LEVEL,0);
  data = (const mapsubsector_t *)W_CacheLumpNum(lump);

  if ((!data) || (!numsubsectors))
    I_Error("P_LoadSubsectors: no subsectors in level");

  for (i=0; i<numsubsectors; i++)
  {
    subsectors[i].numlines = (unsigned short)(short int)(data[i].numsegs);
    subsectors[i].firstline = (unsigned short)(short int)(data[i].firstseg);
  }

  W_UnlockLumpNum(lump);
}






static void P_LoadSectors (int lump)
{
  const byte *data;
  int i;

  numsectors = W_LumpLength (lump) / sizeof(mapsector_t);
  sectors = Z_Calloc (numsectors,sizeof(sector_t),PU_LEVEL,0);
  data = W_CacheLumpNum (lump);

  for (i=0; i<numsectors; i++)
    {
      sector_t *ss = sectors + i;
      const mapsector_t *ms = (const mapsector_t *) data + i;

      ss->iSectorID=i;
      ss->floorheight = (short int)(ms->floorheight)<<16;
      ss->ceilingheight = (short int)(ms->ceilingheight)<<16;
      ss->floorpic = R_FlatNumForName(ms->floorpic);
      ss->ceilingpic = R_FlatNumForName(ms->ceilingpic);
      ss->lightlevel = (short int)(ms->lightlevel);
      ss->special = (short int)(ms->special);
      ss->oldspecial = (short int)(ms->special);
      ss->tag = (short int)(ms->tag);
      ss->thinglist = ((void *)0);
      ss->touching_thinglist = ((void *)0);

      ss->nextsec = -1;
      ss->prevsec = -1;


      ss->floor_xoffs = 0;
      ss->floor_yoffs = 0;
      ss->ceiling_xoffs = 0;
      ss->ceiling_yoffs = 0;
      ss->heightsec = -1;
      ss->floorlightsec = -1;



      ss->ceilinglightsec = -1;


      ss->bottommap = ss->midmap = ss->topmap = 0;


      ss->sky = 0;
    }

  W_UnlockLumpNum(lump);
}







static void P_LoadNodes (int lump)
{
  const byte *data;
  int i;

  numnodes = W_LumpLength (lump) / sizeof(mapnode_t);
  nodes = Z_Malloc (numnodes*sizeof(node_t),PU_LEVEL,0);
  data = W_CacheLumpNum (lump);

  if ((!data) || (!numnodes))
  {

    if (numsubsectors == 1)
      lprintf(LO_INFO,
          "P_LoadNodes: trivial map (no nodes, one subsector)\n");
    else
      I_Error("P_LoadNodes: no nodes in level");
  }

  for (i=0; i<numnodes; i++)
    {
      node_t *no = nodes + i;
      const mapnode_t *mn = (const mapnode_t *) data + i;
      int j;

      no->x = (short int)(mn->x)<<16;
      no->y = (short int)(mn->y)<<16;
      no->dx = (short int)(mn->dx)<<16;
      no->dy = (short int)(mn->dy)<<16;

      for (j=0 ; j<2 ; j++)
        {
          int k;
          no->children[j] = (unsigned short)(short int)(mn->children[j]);


          if (no->children[j] == 0xffff)
            no->children[j] = 0xffffffff;
          else if (no->children[j] & 0x8000)
            no->children[j] = (no->children[j] &~ 0x8000) | 0x80000000;

          for (k=0 ; k<4 ; k++)
            no->bbox[j][k] = (short int)(mn->bbox[j][k])<<16;
        }
    }

  W_UnlockLumpNum(lump);
}





static void P_LoadXNOD(int lump)
{
  int len = W_LumpLength(lump);
  const byte *data = W_CacheLumpNum(lump);
  int i, numorgvert, numnewvert, first_seg = 0;
  vertex_t *newvert;

  data += 4; len -= 4;
  numorgvert = (long int)(*(const int *)data); data += 4; len -= 4;
  numnewvert = (long int)(*(const int *)data); data += 4; len -= 4;

  newvert = Z_Realloc(vertexes,
                      (numorgvert+numnewvert)*sizeof(*newvert),
                      PU_LEVEL, ((void *)0));

  for (i = 0; i < numnewvert; i++)
  {
    vertex_t *v = newvert + numorgvert + i;

    v->x = (long int)(*(const fixed_t *)data); data += 4; len -= 4;
    v->y = (long int)(*(const fixed_t *)data); data += 4; len -= 4;
  }

  if (newvert != vertexes)
  {
    for (i = 0; i < numlines; i++) {
      lines[i].v1 = newvert + (lines[i].v1 - vertexes);
      lines[i].v2 = newvert + (lines[i].v2 - vertexes);
    }
    vertexes = newvert;
  }
  newvert = vertexes + numorgvert;
  numvertexes = numorgvert + numnewvert;

  numsubsectors = (long int)(*(const unsigned int *)data); data += 4; len -= 4;
  subsectors = Z_Calloc(numsubsectors, sizeof(*subsectors), PU_LEVEL, ((void *)0));

  for (i = 0; i < numsubsectors; i++) {
    subsectors[i].firstline = first_seg;
    subsectors[i].numlines = (long int)(*(const unsigned int *)data); data += 4; len -= 4;
    first_seg += subsectors[i].numlines;
  }

  numsegs = (long int)(*(const unsigned int *)data); data += 4; len -= 4;
  segs = Z_Calloc(numsegs, sizeof(*segs), PU_LEVEL, ((void *)0));

  for (i = 0; i < numsegs; i++)
  {
    unsigned int v1, v2;
    unsigned short ld;
    unsigned char side;
    seg_t *seg;
    line_t *line;

    v1 = (long int)(*(const unsigned int *)data); data += 4; len -= 4;
    v2 = (long int)(*(const unsigned int *)data); data += 4; len -= 4;
    ld = (short int)(*(const unsigned short *)data); data += 2; len -= 2;
    side = *(const unsigned char *)data; data += 1; len -= 1;

    seg = segs + i;
    line = lines + ld;

    seg->v1 = vertexes + v1;
    seg->v2 = vertexes + v2;
    seg->miniseg = 0;
    seg->iSegID = i;
    seg->length = GetDistance(seg->v2->x - seg->v1->x,
                              seg->v2->y - seg->v1->y);
    seg->angle = R_PointToAngle2(seg->v1->x, seg->v1->y,
                                 seg->v2->x, seg->v2->y);
    seg->linedef = line;
    seg->sidedef = sides + line->sidenum[side];
    seg->frontsector = seg->sidedef->sector;
    seg->backsector = ((line->flags & 4
                        && line->sidenum[side^1] != ((unsigned short)-1))
                       ? sides[line->sidenum[side^1]].sector
                       : ((void *)0));
    seg->offset = (fixed_t)((1<<16) *
      (side == 0

       ? GetDistance(line->v1->x - seg->v1->x, line->v1->y - seg->v1->y)

       : GetDistance(line->v2->x - seg->v1->x, line->v2->y - seg->v1->y)
      ));
  }

  numnodes = (long int)(*(const unsigned int *)data); data += 4; len -= 4;
  nodes = Z_Calloc(numnodes, sizeof(*nodes), PU_LEVEL, ((void *)0));

  for (i = 0; i < numnodes; i++)
  {
    node_t *node = nodes + i;
    int j, k;

    node->x = (short int)(*(const short *)data)<<16; data += 2; len -= 2;
    node->y = (short int)(*(const short *)data)<<16; data += 2; len -= 2;
    node->dx = (short int)(*(const short *)data)<<16; data += 2; len -= 2;
    node->dy = (short int)(*(const short *)data)<<16; data += 2; len -= 2;

    for (j = 0; j < 2; j++) {
      for (k = 0; k < 4; k++) {
        node->bbox[j][k] =
          (short int)(*(const short *)data)<<16; data += 2; len -= 2;
      }
    }

    for (j = 0; j < 2; j++) {
      node->children[j] = (long int)(*(const unsigned int *)data); data += 4; len -= 4;
    }
  }

  W_UnlockLumpNum(lump);
}
# 853 "c:/devl/prboom3ds/src/p_setup.c"
static void P_LoadThings (int lump)
{
  int i, numthings = W_LumpLength (lump) / sizeof(mapthing_t);
  const mapthing_t *data = W_CacheLumpNum (lump);

  if ((!data) || (!numthings))
    I_Error("P_LoadThings: no things in level");

  for (i=0; i<numthings; i++)
    {
      mapthing_t mt = data[i];

      mt.x = (short int)(mt.x);
      mt.y = (short int)(mt.y);
      mt.angle = (short int)(mt.angle);
      mt.type = (short int)(mt.type);
      mt.options = (short int)(mt.options);

      if (!P_IsDoomnumAllowed(mt.type))
        continue;


      P_SpawnMapThing(&mt);
    }

  W_UnlockLumpNum(lump);
}
# 892 "c:/devl/prboom3ds/src/p_setup.c"
static void P_LoadLineDefs (int lump)
{
  const byte *data;
  int i;

  numlines = W_LumpLength (lump) / sizeof(maplinedef_t);
  lines = Z_Calloc (numlines,sizeof(line_t),PU_LEVEL,0);
  data = W_CacheLumpNum (lump);

  for (i=0; i<numlines; i++)
    {
      const maplinedef_t *mld = (const maplinedef_t *) data + i;
      line_t *ld = lines+i;
      vertex_t *v1, *v2;

      ld->flags = (unsigned short)(short int)(mld->flags);
      ld->special = (short int)(mld->special);
      ld->tag = (short int)(mld->tag);
      v1 = ld->v1 = &vertexes[(unsigned short)(short int)(mld->v1)];
      v2 = ld->v2 = &vertexes[(unsigned short)(short int)(mld->v2)];
      ld->dx = v2->x - v1->x;
      ld->dy = v2->y - v1->y;

      ld->tranlump = -1;

      ld->slopetype = !ld->dx ? ST_VERTICAL : !ld->dy ? ST_HORIZONTAL :
        FixedDiv(ld->dy, ld->dx) > 0 ? ST_POSITIVE : ST_NEGATIVE;

      if (v1->x < v2->x)
        {
          ld->bbox[BOXLEFT] = v1->x;
          ld->bbox[BOXRIGHT] = v2->x;
        }
      else
        {
          ld->bbox[BOXLEFT] = v2->x;
          ld->bbox[BOXRIGHT] = v1->x;
        }
      if (v1->y < v2->y)
        {
          ld->bbox[BOXBOTTOM] = v1->y;
          ld->bbox[BOXTOP] = v2->y;
        }
      else
        {
          ld->bbox[BOXBOTTOM] = v2->y;
          ld->bbox[BOXTOP] = v1->y;
        }




      ld->soundorg.x = ld->bbox[BOXLEFT] / 2 + ld->bbox[BOXRIGHT] / 2;
      ld->soundorg.y = ld->bbox[BOXTOP] / 2 + ld->bbox[BOXBOTTOM] / 2;

      ld->iLineID=i;
      ld->sidenum[0] = (short int)(mld->sidenum[0]);
      ld->sidenum[1] = (short int)(mld->sidenum[1]);

      {



        int j;

        for (j=0; j < 2; j++)
        {
          if (ld->sidenum[j] != ((unsigned short)-1) && ld->sidenum[j] >= numsides) {
            ld->sidenum[j] = ((unsigned short)-1);
            lprintf(LO_WARN, "P_LoadLineDefs: linedef %d"
                    " has out-of-range sidedef number\n", i);
          }
        }



        if (ld->sidenum[0] == ((unsigned short)-1)) {
          ld->sidenum[0] = 0;

          lprintf(LO_WARN, "P_LoadLineDefs: linedef %d"
                  " missing first sidedef\n", i);
        }

        if ((ld->sidenum[1] == ((unsigned short)-1)) && (ld->flags & 4)) {
          ld->flags &= ~4;

          lprintf(LO_WARN, "P_LoadLineDefs: linedef %d"
                  " has two-sided flag set, but no second sidedef\n", i);
        }
      }


      if (ld->sidenum[0] != ((unsigned short)-1) && ld->special)
        sides[*ld->sidenum].special = ld->special;
    }

  W_UnlockLumpNum(lump);
}




static void P_LoadLineDefs2(int lump)
{
  int i = numlines;
  register line_t *ld = lines;
  for (;i--;ld++)
    {
      ld->frontsector = sides[ld->sidenum[0]].sector;
      ld->backsector = ld->sidenum[1]!=((unsigned short)-1) ? sides[ld->sidenum[1]].sector : 0;
      switch (ld->special)
        {
          int lump, j;

        case 260:
            lump = sides[*ld->sidenum].special;
            if (!ld->tag)
              ld->tranlump = lump;
            else
              for (j=0;j<numlines;j++)
                if (lines[j].tag == ld->tag)
                  lines[j].tranlump = lump;
            break;
        }
    }
}






static void P_LoadSideDefs (int lump)
{
  numsides = W_LumpLength(lump) / sizeof(mapsidedef_t);
  sides = Z_Calloc(numsides,sizeof(side_t),PU_LEVEL,0);
}





static void P_LoadSideDefs2(int lump)
{
  const byte *data = W_CacheLumpNum(lump);
  int i;

  for (i=0; i<numsides; i++)
    {
      register const mapsidedef_t *msd = (const mapsidedef_t *) data + i;
      register side_t *sd = sides + i;
      register sector_t *sec;

      sd->textureoffset = (short int)(msd->textureoffset)<<16;
      sd->rowoffset = (short int)(msd->rowoffset)<<16;

      {
        unsigned short sector_num = (short int)(msd->sector);
        if (sector_num >= numsectors) {
          lprintf(LO_WARN,"P_LoadSideDefs2: sidedef %i has out-of-range sector num %u\n", i, sector_num);
          sector_num = 0;
        }
        sd->sector = sec = &sectors[sector_num];
      }




      switch (sd->special)
        {
        case 242:
          sd->bottomtexture =
            (sec->bottommap = R_ColormapNumForName(msd->bottomtexture)) < 0 ?
            sec->bottommap = 0, R_TextureNumForName(msd->bottomtexture): 0 ;
          sd->midtexture =
            (sec->midmap = R_ColormapNumForName(msd->midtexture)) < 0 ?
            sec->midmap = 0, R_TextureNumForName(msd->midtexture) : 0 ;
          sd->toptexture =
            (sec->topmap = R_ColormapNumForName(msd->toptexture)) < 0 ?
            sec->topmap = 0, R_TextureNumForName(msd->toptexture) : 0 ;
          break;

        case 260:
          sd->midtexture = strncasecmp("TRANMAP", msd->midtexture, 8) ?
            (sd->special = (W_CheckNumForName)(msd->midtexture, ns_global)) < 0 ||
            W_LumpLength(sd->special) != 65536 ?
            sd->special=0, R_TextureNumForName(msd->midtexture) :
              (sd->special++, 0) : (sd->special=0);
          sd->toptexture = R_TextureNumForName(msd->toptexture);
          sd->bottomtexture = R_TextureNumForName(msd->bottomtexture);
          break;

        default:
          sd->midtexture = R_SafeTextureNumForName(msd->midtexture, i);
          sd->toptexture = R_SafeTextureNumForName(msd->toptexture, i);
          sd->bottomtexture = R_SafeTextureNumForName(msd->bottomtexture, i);
          break;
        }
    }

  W_UnlockLumpNum(lump);
}
# 1107 "c:/devl/prboom3ds/src/p_setup.c"
typedef struct linelist_t
{
  long num;
  struct linelist_t *next;
} linelist_t;






static void AddBlockLine
(
  linelist_t **lists,
  int *count,
  int *done,
  int blockno,
  long lineno
)
{
  linelist_t *l;

  if (done[blockno])
    return;

  l = Z_Malloc(sizeof(linelist_t),PU_STATIC,0);
  l->num = lineno;
  l->next = lists[blockno];
  lists[blockno] = l;
  count[blockno]++;
  done[blockno] = 1;
}
# 1148 "c:/devl/prboom3ds/src/p_setup.c"
static void P_CreateBlockMap(void)
{
  int xorg,yorg;
  int nrows,ncols;
  linelist_t **blocklists=((void *)0);
  int *blockcount=((void *)0);
  int *blockdone=((void *)0);
  int NBlocks;
  long linetotal=0;
  int i,j;
  int map_minx=2147483647;
  int map_miny=2147483647;
  int map_maxx=(-2147483647 - 1);
  int map_maxy=(-2147483647 - 1);



  for (i=0;i<numvertexes;i++)
  {
    fixed_t t;

    if ((t=vertexes[i].x) < map_minx)
      map_minx = t;
    else if (t > map_maxx)
      map_maxx = t;
    if ((t=vertexes[i].y) < map_miny)
      map_miny = t;
    else if (t > map_maxy)
      map_maxy = t;
  }
  map_minx >>= 16;
  map_maxx >>= 16;
  map_miny >>= 16;
  map_maxy >>= 16;



  xorg = map_minx-0;
  yorg = map_miny-0;
  ncols = (map_maxx+0 -xorg+1+((1<<7)-1))>>7;
  nrows = (map_maxy+0 -yorg+1+((1<<7)-1))>>7;
  NBlocks = ncols*nrows;






  blocklists = Z_Calloc(NBlocks,sizeof(linelist_t *),PU_STATIC,0);
  blockcount = Z_Calloc(NBlocks,sizeof(int),PU_STATIC,0);
  blockdone = Z_Malloc(NBlocks*sizeof(int),PU_STATIC,0);




  for (i=0;i<NBlocks;i++)
  {
    blocklists[i] = Z_Malloc(sizeof(linelist_t),PU_STATIC,0);
    blocklists[i]->num = -1;
    blocklists[i]->next = ((void *)0);
    blockcount[i]++;
  }




  for (i=0;i<numlines;i++)
  {
    int x1 = lines[i].v1->x>>16;
    int y1 = lines[i].v1->y>>16;
    int x2 = lines[i].v2->x>>16;
    int y2 = lines[i].v2->y>>16;
    int dx = x2-x1;
    int dy = y2-y1;
    int vert = !dx;
    int horiz = !dy;
    int spos = (dx^dy) > 0;
    int sneg = (dx^dy) < 0;
    int bx,by;
    int minx = x1>x2? x2 : x1;
    int maxx = x1>x2? x1 : x2;
    int miny = y1>y2? y2 : y1;
    int maxy = y1>y2? y1 : y2;



    memset(blockdone,0,NBlocks*sizeof(int));



    bx = (x1-xorg)>>7;
    by = (y1-yorg)>>7;
    AddBlockLine(blocklists,blockcount,blockdone,by*ncols+bx,i);
    bx = (x2-xorg)>>7;
    by = (y2-yorg)>>7;
    AddBlockLine(blocklists,blockcount,blockdone,by*ncols+bx,i);






    if (!vert)
    {
      for (j=0;j<ncols;j++)
      {




        int x = xorg+(j<<7);
        int y = (dy*(x-x1))/dx+y1;
        int yb = (y-yorg)>>7;
        int yp = (y-yorg)&((1<<7)-1);

        if (yb<0 || yb>nrows-1)
          continue;

        if (x<minx || x>maxx)
          continue;



        AddBlockLine(blocklists,blockcount,blockdone,ncols*yb+j,i);





        if (yp==0)
        {
          if (sneg)
          {
            if (yb>0 && miny<y)
              AddBlockLine(blocklists,blockcount,blockdone,ncols*(yb-1)+j,i);
            if (j>0 && minx<x)
              AddBlockLine(blocklists,blockcount,blockdone,ncols*yb+j-1,i);
          }
          else if (spos)
          {
            if (yb>0 && j>0 && minx<x)
              AddBlockLine(blocklists,blockcount,blockdone,ncols*(yb-1)+j-1,i);
          }
          else if (horiz)
          {
            if (j>0 && minx<x)
              AddBlockLine(blocklists,blockcount,blockdone,ncols*yb+j-1,i);
          }
        }
        else if (j>0 && minx<x)
          AddBlockLine(blocklists,blockcount,blockdone,ncols*yb+j-1,i);
      }
    }





    if (!horiz)
    {
      for (j=0;j<nrows;j++)
      {




        int y = yorg+(j<<7);
        int x = (dx*(y-y1))/dy+x1;
        int xb = (x-xorg)>>7;
        int xp = (x-xorg)&((1<<7)-1);

        if (xb<0 || xb>ncols-1)
          continue;

        if (y<miny || y>maxy)
          continue;



        AddBlockLine(blocklists,blockcount,blockdone,ncols*j+xb,i);





        if (xp==0)
        {
          if (sneg)
          {
            if (j>0 && miny<y)
              AddBlockLine(blocklists,blockcount,blockdone,ncols*(j-1)+xb,i);
            if (xb>0 && minx<x)
              AddBlockLine(blocklists,blockcount,blockdone,ncols*j+xb-1,i);
          }
          else if (vert)
          {
            if (j>0 && miny<y)
              AddBlockLine(blocklists,blockcount,blockdone,ncols*(j-1)+xb,i);
          }
          else if (spos)
          {
            if (xb>0 && j>0 && miny<y)
              AddBlockLine(blocklists,blockcount,blockdone,ncols*(j-1)+xb-1,i);
          }
        }
        else if (j>0 && miny<y)
          AddBlockLine(blocklists,blockcount,blockdone,ncols*(j-1)+xb,i);
      }
    }
  }




  memset(blockdone,0,NBlocks*sizeof(int));
  for (i=0,linetotal=0;i<NBlocks;i++)
  {
    AddBlockLine(blocklists,blockcount,blockdone,i,0);
    linetotal += blockcount[i];
  }



  blockmaplump = Z_Malloc(sizeof(*blockmaplump) * (4+NBlocks+linetotal),
                          PU_LEVEL, 0);


  blockmaplump[0] = bmaporgx = xorg << 16;
  blockmaplump[1] = bmaporgy = yorg << 16;
  blockmaplump[2] = bmapwidth = ncols;
  blockmaplump[3] = bmapheight = nrows;



  for (i=0;i<NBlocks;i++)
  {
    linelist_t *bl = blocklists[i];
    long offs = blockmaplump[4+i] =
      (i? blockmaplump[4+i-1] : 4+NBlocks) + (i? blockcount[i-1] : 0);




    while (bl)
    {
      linelist_t *tmp = bl->next;
      blockmaplump[offs++] = bl->num;
      Z_Free(bl);
      bl = tmp;
    }
  }



  Z_Free(blocklists);
  Z_Free(blockcount);
  Z_Free(blockdone);
}
# 1420 "c:/devl/prboom3ds/src/p_setup.c"
static void P_LoadBlockMap (int lump)
{
  long count;

  if (M_CheckParm("-blockmap") || W_LumpLength(lump)<8 || (count = W_LumpLength(lump)/2) >= 0x10000)
    P_CreateBlockMap();
  else
    {
      long i;

      const short *wadblockmaplump = W_CacheLumpNum(lump);
      blockmaplump = Z_Malloc(sizeof(*blockmaplump) * count, PU_LEVEL, 0);






      blockmaplump[0] = (short int)(wadblockmaplump[0]);
      blockmaplump[1] = (short int)(wadblockmaplump[1]);
      blockmaplump[2] = (long)((short int)(wadblockmaplump[2])) & 0xffff;
      blockmaplump[3] = (long)((short int)(wadblockmaplump[3])) & 0xffff;

      for (i=4 ; i<count ; i++)
        {
          short t = (short int)(wadblockmaplump[i]);
          blockmaplump[i] = t == -1 ? -1l : (long) t & 0xffff;
        }

      W_UnlockLumpNum(lump);

      bmaporgx = blockmaplump[0]<<16;
      bmaporgy = blockmaplump[1]<<16;
      bmapwidth = blockmaplump[2];
      bmapheight = blockmaplump[3];
    }


  blocklinks = Z_Calloc (bmapwidth*bmapheight,sizeof(*blocklinks),PU_LEVEL,0);
  blockmap = blockmaplump+4;
}
# 1473 "c:/devl/prboom3ds/src/p_setup.c"
static void P_LoadReject(int lumpnum, int totallines)
{
  unsigned int length, required;
  byte *newreject;


  if (rejectlump != -1)
    W_UnlockLumpNum(rejectlump);
  rejectlump = lumpnum + ML_REJECT;
  rejectmatrix = W_CacheLumpNum(rejectlump);

  required = (numsectors * numsectors + 7) / 8;
  length = W_LumpLength(rejectlump);

  if (length >= required)
    return;



  newreject = Z_Malloc(required, PU_LEVEL, ((void *)0));
  rejectmatrix = (const byte *)memmove(newreject, rejectmatrix, length);
  memset(newreject + length, 0, required - length);

  W_UnlockLumpNum(rejectlump);
  rejectlump = -1;

  if ((compatibility_level < boom_compatibility_compatibility))
  {

    unsigned int rejectpad[4] = {
      0,
      0,
      50,
      0x1d4a11
    };
    unsigned int i, pad = 0, *src = rejectpad;
    byte *dest = newreject + length;

    rejectpad[0] = ((totallines*4+3)&~3)+24;



    for (i = 0; i < required - length && i < 16; i++) {
      if (!(i&3))
        pad = *src++;
      *dest++ = pad & 0xff;
      pad >>= 8;
    }
  }
  lprintf(LO_WARN, "P_LoadReject: REJECT too short (%u<%u) - padded\n",
          length, required);
}
# 1537 "c:/devl/prboom3ds/src/p_setup.c"
static void P_AddLineToSector(line_t* li, sector_t* sector)
{
  fixed_t *bbox = (void*)sector->blockbox;

  sector->lines[sector->linecount++] = li;
  M_AddToBox (bbox, li->v1->x, li->v1->y);
  M_AddToBox (bbox, li->v2->x, li->v2->y);
}


static int P_GroupLines (void)
{
  register line_t *li;
  register sector_t *sector;
  int i,j, total = numlines;


  for (i=0 ; i<numsubsectors ; i++)
  {
    seg_t *seg = &segs[subsectors[i].firstline];
    subsectors[i].sector = ((void *)0);
    for(j=0; j<subsectors[i].numlines; j++)
    {
      if(seg->sidedef)
      {
        subsectors[i].sector = seg->sidedef->sector;
        break;
      }
      seg++;
    }
    if(subsectors[i].sector == ((void *)0))
      I_Error("P_GroupLines: Subsector a part of no sector!\n");
  }


  for (i=0,li=lines; i<numlines; i++, li++)
    {
      li->frontsector->linecount++;
      if (li->backsector && li->backsector != li->frontsector)
        {
          li->backsector->linecount++;
          total++;
        }
    }

  {
    line_t **linebuffer = Z_Malloc(total*sizeof(line_t *), PU_LEVEL, 0);




    for (i=0, sector = sectors; i<numsectors; i++, sector++)
    {
      sector->lines = linebuffer;
      linebuffer += sector->linecount;
      sector->linecount = 0;
      M_ClearBox(sector->blockbox);
    }
  }


  for (i=0,li=lines; i<numlines; i++, li++)
  {
    P_AddLineToSector(li, li->frontsector);
    if (li->backsector && li->backsector != li->frontsector)
      P_AddLineToSector(li, li->backsector);
  }

  for (i=0, sector = sectors; i<numsectors; i++, sector++)
  {
    fixed_t *bbox = (void*)sector->blockbox;

    int block;


    if (comp[comp_sound])
    {
      sector->soundorg.x = (bbox[BOXRIGHT]+bbox[BOXLEFT])/2;
      sector->soundorg.y = (bbox[BOXTOP]+bbox[BOXBOTTOM])/2;
    }
    else
    {

      sector->soundorg.x = bbox[BOXRIGHT]/2+bbox[BOXLEFT]/2;
      sector->soundorg.y = bbox[BOXTOP]/2+bbox[BOXBOTTOM]/2;
    }


    block = (bbox[BOXTOP]-bmaporgy+(32*(1<<16)))>>(16 +7);
    block = block >= bmapheight ? bmapheight-1 : block;
    sector->blockbox[BOXTOP]=block;

    block = (bbox[BOXBOTTOM]-bmaporgy-(32*(1<<16)))>>(16 +7);
    block = block < 0 ? 0 : block;
    sector->blockbox[BOXBOTTOM]=block;

    block = (bbox[BOXRIGHT]-bmaporgx+(32*(1<<16)))>>(16 +7);
    block = block >= bmapwidth ? bmapwidth-1 : block;
    sector->blockbox[BOXRIGHT]=block;

    block = (bbox[BOXLEFT]-bmaporgx-(32*(1<<16)))>>(16 +7);
    block = block < 0 ? 0 : block;
    sector->blockbox[BOXLEFT]=block;
  }

  return total;
}
# 1691 "c:/devl/prboom3ds/src/p_setup.c"
static void P_RemoveSlimeTrails(void)
{
  byte *hit = Z_Calloc(1,numvertexes,PU_STATIC,0);
  int i;
  for (i=0; i<numsegs; i++)
  {
    const line_t *l;

    if (segs[i].miniseg == 1)
      return;

    l = segs[i].linedef;
    if (l->dx && l->dy)
    {
    vertex_t *v = segs[i].v1;
    do
      if (!hit[v - vertexes])
        {
    hit[v - vertexes] = 1;
    if (v != l->v1 && v != l->v2)
      {
        int_64_t dx2 = (l->dx >> 16) * (l->dx >> 16);
        int_64_t dy2 = (l->dy >> 16) * (l->dy >> 16);
        int_64_t dxy = (l->dx >> 16) * (l->dy >> 16);
        int_64_t s = dx2 + dy2;
        int x0 = v->x, y0 = v->y, x1 = l->v1->x, y1 = l->v1->y;
        v->x = (int)((dx2 * x0 + dy2 * x1 + dxy * (y0 - y1)) / s);
        v->y = (int)((dy2 * y0 + dx2 * y1 + dxy * (x0 - x1)) / s);
      }
        }
    while ((v != segs[i].v2) && (v = segs[i].v2));
  }
    }
  Z_Free(hit);
}

void BuildSideSegs() {
 int i;
# 1737 "c:/devl/prboom3ds/src/p_setup.c"
 for (i = 0; i < numsegs; i++) {
  float dx, dy;
  seg_t *seg = &segs[i];
  seg_t *sideSeg = &seg->sidedef->sideSeg;
  *sideSeg = *seg;

  if (seg->frontsector == seg->linedef->frontsector) {
   sideSeg->v1 = seg->linedef->v1;
   sideSeg->v2 = seg->linedef->v2;
  }
  else {

   sideSeg->v1 = seg->linedef->v2;
   sideSeg->v2 = seg->linedef->v1;
  }

  dx = (float)(sideSeg->v2->x - sideSeg->v1->x) / (1<<16);
  dy = (float)(sideSeg->v2->y - sideSeg->v1->y) / (1<<16);
  sideSeg->length = (sqrt(dx * dx + dy * dy)*(float)(1<<16));
  sideSeg->offset = 0;
 }





}






void P_SetupLevel(int episode, int map, int playermask, skill_t skill)
{
  int i;
  char lumpname[9];
  int lumpnum;

  char gl_lumpname[9];
  int gl_lumpnum;

  R_StopAllInterpolations();

  totallive = totalkills = totalitems = totalsecret = wminfo.maxfrags = 0;
  wminfo.partime = 180;

  for (i=0; i<4; i++)
    players[i].killcount = players[i].secretcount = players[i].itemcount = 0;


  players[consoleplayer].viewz = 1;


  S_Start();

  Z_FreeTags(PU_LEVEL, PU_CACHE-1);
  if (rejectlump != -1) {
    W_UnlockLumpNum(rejectlump);
    rejectlump = -1;
  }






  P_InitThinkers();





  if (gamemode == commercial)
  {
    sprintf(lumpname, "map%02d", map);
    sprintf(gl_lumpname, "gl_map%02d", map);
  }
  else
  {
    sprintf(lumpname, "E%dM%d", episode, map);
    sprintf(gl_lumpname, "GL_E%iM%i", episode, map);
  }

  lumpnum = W_GetNumForName(lumpname);
  gl_lumpnum = (W_CheckNumForName)(gl_lumpname, ns_global);

  leveltime = 0; totallive = 0;
# 1833 "c:/devl/prboom3ds/src/p_setup.c"
  if ((i = lumpnum + ML_BLOCKMAP + 1) < numlumps
      && !strncasecmp(lumpinfo[i].name, "BEHAVIOR", 8))
    I_Error("P_SetupLevel: %s: Hexen format not supported", lumpname);


  P_GetNodesVersion(lumpnum,gl_lumpnum);

  if (nodes_glbsp > 0)
    P_LoadVertexes2 (lumpnum+ML_VERTEXES,gl_lumpnum+ML_GL_VERTS);
  else
    P_LoadVertexes (lumpnum+ML_VERTEXES);
  P_LoadSectors (lumpnum+ML_SECTORS);
  P_LoadSideDefs (lumpnum+ML_SIDEDEFS);
  P_LoadLineDefs (lumpnum+ML_LINEDEFS);
  P_LoadSideDefs2 (lumpnum+ML_SIDEDEFS);
  P_LoadLineDefs2 (lumpnum+ML_LINEDEFS);
  P_LoadBlockMap (lumpnum+ML_BLOCKMAP);

  if (nodes_glbsp > 0)
  {
    P_LoadSubsectors(gl_lumpnum + ML_GL_SSECT);
    P_LoadNodes(gl_lumpnum + ML_GL_NODES);
    P_LoadGLSegs(gl_lumpnum + ML_GL_SEGS);
  }
  else if (nodes_zdbsp == 1)
  {
    P_LoadXNOD(lumpnum + ML_NODES);
  }
  else
  {
    P_LoadSubsectors(lumpnum + ML_SSECTORS);
    P_LoadNodes(lumpnum + ML_NODES);
    P_LoadSegs(lumpnum + ML_SEGS);
  }



  P_LoadReject(lumpnum, P_GroupLines());




  if (compatibility_level>=lxdoom_1_compatibility || M_CheckParm("-force_remove_slime_trails") > 0)
    P_RemoveSlimeTrails();

  BuildSideSegs();




  bodyqueslot = 0;


  memset(playerstarts,0,sizeof(playerstarts));
  deathmatch_p = deathmatchstarts;
  for (i = 0; i < 4; i++)
    players[i].mo = ((void *)0);

  P_MapStart();

  P_LoadThings(lumpnum+ML_THINGS);


  if (deathmatch)
  {
    for (i=0; i<4; i++)
      if (playeringame[i])
        {
          players[i].mo = ((void *)0);
          G_DeathMatchSpawnPlayer(i);
        }
  }
  else
  {
    for (i=0; i<4; i++)
      if (playeringame[i] && !players[i].mo)
        I_Error("P_SetupLevel: missing player %d start\n", i+1);
  }


  if (gamemode==commercial)
    P_SpawnBrainTargets();


  iquehead = iquetail = 0;


  P_SpawnSpecials();

  P_MapEnd();


  if (precache)
    R_PrecacheLevel();
# 1940 "c:/devl/prboom3ds/src/p_setup.c"
  R_SmoothPlaying_Reset(((void *)0));
}




void P_Init (void)
{
  P_InitSwitchList();
  P_InitPicAnims();
  R_InitSprites(sprnames);
}
